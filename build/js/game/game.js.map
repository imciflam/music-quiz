{"version":3,"file":"game.js","sources":["js/util.js","js/data/game.data.js","js/view.js","js/welcome/welcome-view.js","js/welcome/welcome.js","js/result/result-view.js","js/result/result.js","js/application.js","js/game/game-model.js","js/game/header/header-view.js","js/game/level/level-genre-view.js","js/game/level/level-artist-view.js","js/game/game-view.js","js/game/game.js"],"sourcesContent":["// create an element\nexport const createElement = template => {\n  const outer = document.createElement(`div`)\n  outer.innerHTML = template\n  return outer.firstElementChild\n}\n\n// select an element\nexport const $$ = (selector, scope = window.document) => {\n  return scope.querySelector(selector)\n}\n\n// get root element\nconst appElement = $$(`.app`)\n\n// replace screen\nexport const changeView = view => {\n  appElement.replaceChild(view.element, $$(`section.main`))\n}\n\n// add event listener on some event\nexport const $on = (eventName, callback, el = appElement) => {\n  el.addEventListener(eventName, evt => {\n    callback(evt)\n  })\n}\n// create a custom event to be triggered on\nexport const $trigger = (eventName, data = null) => {\n  let customEvent = new CustomEvent(eventName, { detail: data })\n  appElement.dispatchEvent(customEvent)\n}\n","// todo: customize later\nconst samples = [\n  {\n    artist: `Kevin MacLeod`,\n    name: `Long Stroll`,\n    image: `https://yt3.ggpht.com/-fkDeGauT7Co/AAAAAAAAAAI/AAAAAAAAAAA/dkF5ZKkrxRo/s900-c-k-no-mo-rj-c0xffffff/photo.jpg`,\n    src: `https://www.youtube.com/audiolibrary_download?vid=91624fdc22fc54ed`,\n    genre: `Jazz`\n  },\n  {\n    artist: `Jingle Punks`,\n    name: `In the Land of Rhinoplasty`,\n    image: `https://i.vimeocdn.com/portrait/992615_300x300`,\n    src: `https://www.youtube.com/audiolibrary_download?vid=dc3b4dc549becd6b`,\n    genre: `Rock`\n  },\n  {\n    artist: `Audionautix`,\n    name: `Travel Light`,\n    image: `http://4.bp.blogspot.com/-kft9qu5ET6U/VPFUBi9W-MI/AAAAAAAACYM/UxXilXKYwOc/s1600/audionautix%2BHalf%2BSize.jpg`,\n    src: `https://www.youtube.com/audiolibrary_download?vid=a127d9b7de8a17cf`,\n    genre: `Country`\n  },\n  {\n    artist: `Riot`,\n    name: `\tLevel Plane`,\n    image: `https://i.ytimg.com/vi/jzgM3m8Vp1k/maxresdefault.jpg`,\n    src: `https://www.youtube.com/audiolibrary_download?vid=dfb828f40096184c`,\n    genre: `R&B`\n  },\n  {\n    artist: `Jingle Punks`,\n    name: `Lucky Day`,\n    image: `https://i.vimeocdn.com/portrait/992615_300x300`,\n    src: `https://www.youtube.com/audiolibrary_download?vid=bcbe5be936a32fb1`,\n    genre: `Pop`\n  },\n  {\n    artist: `Gunnar Olsen`,\n    name: `Home Stretch`,\n    image: `https://f4.bcbits.com/img/0004181452_10.jpg`,\n    src: `https://www.youtube.com/audiolibrary_download?vid=bcbe5be936a32fb1`,\n    genre: `Electronic`\n  }\n]\n\nexport const levels = [\n  {\n    type: `Genre`,\n    title: `Choose Jazz tracks`,\n    questions: [samples[0], samples[1], samples[2], samples[3]],\n    answer: `1000`\n  },\n  {\n    type: `Genre`,\n    title: `Choose Rock tracks`,\n    questions: [samples[0], samples[1], samples[2], samples[3]],\n    answer: `0110`\n  },\n  {\n    type: `Genre`,\n    title: `Choose Country tracks`,\n    questions: [samples[0], samples[1], samples[2], samples[3]],\n    answer: `0010`\n  },\n  {\n    type: `Genre`,\n    title: `Choose R&B tracks`,\n    questions: [samples[0], samples[1], samples[2], samples[3]],\n    answer: `0001`\n  },\n  {\n    type: `Genre`,\n    title: `Choose Pop tracks`,\n    questions: [samples[4], samples[1], samples[2], samples[3]],\n    answer: `1000`\n  },\n  {\n    type: `Genre`,\n    title: `Choose Electronic tracks`,\n    questions: [samples[0], samples[5], samples[2], samples[3]],\n    answer: `0100`\n  },\n  {\n    type: `Artist`,\n    title: `Who performs this song?`,\n    questions: [samples[0], samples[1], samples[2]],\n    src: samples[0].src,\n    answer: 0\n  },\n  {\n    type: `Artist`,\n    title: `Who performs this song?`,\n    questions: [samples[1], samples[2], samples[3]],\n    src: samples[2].src,\n    answer: 1\n  },\n  {\n    type: `Artist`,\n    title: `Who performs this song?`,\n    questions: [samples[3], samples[2], samples[1]],\n    src: samples[1].src,\n    answer: 2\n  },\n  {\n    type: `Artist`,\n    title: `Who performs this song?`,\n    questions: [samples[0], samples[1], samples[2]],\n    src: samples[1].src,\n    answer: 1\n  }\n]\n\nexport const LEVELS_COUNT = 10\nexport const FAST_ANSWER_PERIOD = 30\nexport const MAX_ERRORS_COUNT = 4\nexport const TIME_FOR_GAME = 60 * 5 + 1\n\nconst label = {\n  GAME: `Guess a melody`,\n\n  TITLE_WIN: `You're a true music fan!`,\n  TITLE_WELCOME: `Game rules`,\n  TITLE_FAIL_TIME: `Alas..`,\n  TITLE_FAIL_TRY: `Such a pity!`,\n\n  BUTTON_WELCOME: `Start game`,\n  BUTTON_WIN: `Play again`,\n  BUTTON_FAIL: `Try again`\n}\n\nconst phrases = {\n  timeIsUp: () => `Time is up!<br>You didn't make it on time.`,\n  noMoreAttempts: () =>\n    `You have run out of attempts.<br>Better luck next time!`,\n  win: ({ place, playersCount, betterThan }) =>\n    `You've taken ${place} place out of ${playersCount} players. It's&nbsp;better than &nbsp;${betterThan}%&nbsp; other players' results`\n}\n\nexport const welcome = {\n  name: label.GAME,\n  title: label.TITLE_WELCOME,\n  rules: [\n    `Rules are simple&nbsp;â€” &nbsp;you have to answer all questions in 5 minites.`,\n    `You can make 3 mistakes.`,\n    `Good luck!`\n  ],\n  button: label.BUTTON_WELCOME\n}\n\nexport const resultTry = {\n  name: label.GAME,\n  title: label.TITLE_FAIL_TRY,\n  button: label.BUTTON_FAIL,\n  isWin: false\n}\n\nexport const resultTime = {\n  name: label.GAME,\n  title: label.TITLE_FAIL_TIME,\n  button: label.BUTTON_FAIL,\n  content: phrases.timeIsUp(),\n  isWin: false\n}\n\nexport const resultWin = {\n  name: label.GAME,\n  title: label.TITLE_WIN,\n  button: label.BUTTON_WIN,\n  isWin: true\n}\n\nexport const scoreBoard = []\n\nexport const initialGame = {\n  level: -1,\n  remainingAttempts: MAX_ERRORS_COUNT,\n  time: TIME_FOR_GAME,\n  answers: []\n}\n\n// copy game object and reassign it\nexport const tick = game => {\n  game = Object.assign({}, game)\n  game.time--\n  return game\n}\n\nexport const getLevel = (index, allLevels = levels) => allLevels[index]\n\nexport const nextLevel = (state, allLevels = levels) => {\n  const index = state.level + 1\n  if (!getLevel(index, allLevels)) {\n    throw new RangeError(`Can't find level ${index}`)\n  }\n  state.level = index\n  return state\n}\n\nexport const startGame = () => {\n  nextLevel()\n}\n\nexport const getAllLevelsTypes = (allLevels = levels) => {\n  return allLevels.map(level => level.type)\n}\n\n//copy game object and reassign it\nexport const setLives = (game, lives) => {\n  if (lives < 0) {\n    throw new RangeError(`Can't set negative lives`)\n  }\n  game = Object.assign({}, game)\n  game.lives = lives\n  return game\n}\n\nexport const getScore = answers => {\n  let score = -1\n  // if all questions were answered\n  if (answers.length === LEVELS_COUNT) {\n    score = answers.reduce((acc, it) => {\n      let point = -2\n      if (it.isCorrect) {\n        // if answer was fast\n        point = it.timeSpent < FAST_ANSWER_PERIOD ? 2 : 1\n      }\n      return acc + point\n    }, 0)\n  }\n  return score\n}\n\nconst getTimeSpent = answers => {\n  let time = answers.reduce((acc, it) => {\n    return acc + it.timeSpent\n  }, 0)\n  return time\n}\n\n// fetching scoreboard and creating array of objs from it, { position, score }\nconst getPosition = (statistics, score) => {\n  const statisticsIndexed = statistics.map(\n    (scoreFromStaticstics, position) => ({\n      position,\n      score: scoreFromStaticstics\n    })\n  )\n\n  // push a new obj\n  statisticsIndexed.push({\n    position: null,\n    score\n  })\n\n  // get new obj's position\n  const position = statisticsIndexed\n    .sort((a, b) => b.score - a.score)\n    .reduce((acc, it, index) => {\n      if (it.position === null) {\n        acc = index\n      }\n      return acc\n    }, -1)\n\n  if (position === -1) {\n    throw new Error(`Can't define position in Scoreboard`)\n  }\n  return position\n}\n\nexport const printResult = (statistics, game) => {\n  let endGameMessage = ``\n  const score = getScore(game.answers)\n  const time = getTimeSpent(game.answers)\n\n  //if time's not up && there's lives\n  if (game.remainingAttempts > 0 && time < TIME_FOR_GAME) {\n    const position = getPosition(statistics, score)\n    statistics.push(score)\n    statistics.sort((a, b) => b - a)\n\n    const stats = {\n      place: position + 1,\n      playersCount: statistics.length,\n      betterThan: Math.round(\n        ((statistics.length - position - 1) * 100) / statistics.length\n      )\n    }\n    endGameMessage = phrases.win(stats)\n  } else {\n    endGameMessage =\n      time > TIME_FOR_GAME ? phrases.timeIsUp() : phrases.noMoreAttempts()\n  }\n\n  return endGameMessage\n}\n\nexport class Timer {\n  constructor(time) {\n    this.time = time\n  }\n\n  get isFinished() {\n    return this.time < 1\n  }\n\n  get time() {\n    return this._time\n  }\n\n  set time(value) {\n    this._time = value\n  }\n\n  tick() {\n    this.time--\n  }\n}\n","import { createElement } from \"./util\"\n\n// base class\nexport default class AbstractView {\n  get template() {\n    throw new Error(`Provide template for view`)\n  }\n\n  render() {\n    return createElement(this.template.trim())\n  }\n  bind() {}\n  get element() {\n    if (!this._element) {\n      this._element = this.render()\n      this.bind() //bind to this\n    }\n    return this._element\n  }\n}\n","import AbstractView from \"../view\"\nimport { $$, $on, $trigger } from \"../util\"\n\nexport default class WelcomeView extends AbstractView {\n  constructor(data) {\n    super()\n    this.data = data\n  }\n\n  get template() {\n    const { name, button, title, rules } = this.data\n    return `\n<section class=\"main main--welcome\">\n  <section class=\"logo\" title=\"${name}\"><h1>${name}</h1></section>\n  <button class=\"main-play\">${button}</button>\n  <h2 class=\"title main-title\">${title}</h2>\n  <p class=\"text main-text\">${rules.reduce((str, it, index, arr) => {\n    const linebreak = index < arr.length - 1 ? `<br>` : ``\n    it = it + linebreak\n    return str + it\n  }, ``)}</p>\n</section>`.trim()\n  }\n\n  // on button click, start game\n  bind() {\n    $on(`click`, () => $trigger(`start`), $$(`.main-play`, this.element))\n  }\n\n  onStart() {}\n}\n","import { changeView } from \"../util\"\nimport WelcomeView from \"./welcome-view\"\nimport { welcome as data } from \"../data/game.data\"\n\nclass WelcomeScreen {\n  constructor() {\n    this.view = new WelcomeView(data)\n  }\n\n  init() {\n    changeView(this.view)\n  }\n}\n\nexport default new WelcomeScreen()\n","import AbstractView from \"../view\"\nimport { $$, $on, $trigger } from \"../util\"\n\nexport default class ResultView extends AbstractView {\n  constructor(data) {\n    super()\n    this.data = data\n  }\n\n  get template() {\n    const { name, button, title, content, isWin, score, errors } = this.data\n    const winText = `\nIn&nbsp;3&nbsp;m Ð¸ 25&nbsp;s\n<br>you&nbsp;got ${score} points (8 quick)\n<br>made ${errors} errors`\n\n    return `\n<section class=\"main main--result\">\n  <section class=\"logo\" title=\"${name}\"><h1>${name}</h1></section>\n\n  <h2 class=\"title\">${title}</h2>\n  <div class=\"main-stat\">\n    ${isWin ? winText : content}\n  </div>\n  ${isWin ? `<span class=\"main-comparison\">${content}</span>` : ``}\n  <span role=\"button\" tabindex=\"0\" class=\"main-replay\">${button}</span>\n</section>`.trim()\n  }\n\n  bind() {\n    $on(`click`, () => $trigger(`replay`), $$(`.main-replay`, this.element))\n  }\n}\n","import { changeView } from \"../util\"\nimport ResultView from \"./result-view\"\n\nexport default class ResultScreen {\n  constructor(data) {\n    this.view = new ResultView(data)\n  }\n\n  init() {\n    changeView(this.view)\n  }\n}\n","import welcomeScreen from \"./welcome/welcome\"\nimport GameScreen from \"./game/game\"\nimport ResultScreen from \"./result/result\"\nimport {\n  levels as levelsData,\n  resultWin as winData,\n  resultTry as tryData,\n  resultTime as timeData,\n  initialGame\n} from \"./data/game.data\"\nimport { $on } from \"./util\"\n\nconst resultData = {\n  TRY: tryData,\n  TIME: timeData,\n  WIN: winData\n}\n\nexport default class Application {\n  static init(data) {\n    welcomeScreen.init()\n    Application.game = new GameScreen(data)\n    $on(`start`, Application.startGame)\n    $on(`replay`, Application.startGame)\n  }\n\n  static startGame(evt, state = initialGame) {\n    Application.game.init(state)\n    Application.game.tick()\n  }\n\n  static showResult(type) {\n    Application.game.stopTimer()\n    const resultScreen = new ResultScreen(resultData[type])\n    resultScreen.init()\n  }\n}\n\nApplication.init(levelsData)\n","import {\n  getLevel,\n  nextLevel,\n  printResult,\n  getScore,\n  getAllLevelsTypes,\n  scoreBoard,\n  tick,\n  levels as levelsData,\n  resultWin as resultWinData,\n  resultTry as resultTryData,\n  MAX_ERRORS_COUNT,\n  LEVELS_COUNT\n} from \"../data/game.data\"\n\nexport default class GameModel {\n  constructor(data = levelsData) {\n    this.data = data\n  }\n\n  // modify new object and return new state, react-style\n  update(newState) {\n    this.state = Object.assign({}, this.state, newState)\n    return this.state\n  }\n\n  resetAnswers(state) {\n    state.answers = []\n  }\n\n  getCurrentLevel() {\n    return getLevel(this.state.level, this.data)\n  }\n\n  nextLevel() {\n    this.update(nextLevel(this.state, this.data))\n  }\n\n  tick() {\n    this.update(tick(this.state))\n  }\n\n  getMistakes() {\n    return MAX_ERRORS_COUNT - this.state.remainingAttempts\n  }\n\n  getLevelType() {\n    return this.getCurrentLevel().type\n  }\n\n  getAllLevelsTypes() {\n    return getAllLevelsTypes()\n  }\n\n  isLastLevel() {\n    return this.state.level === LEVELS_COUNT - 1\n  }\n\n  win() {\n    resultWinData.content = printResult(scoreBoard, this.state)\n    resultWinData.score = getScore(this.state.answers)\n    resultWinData.errors = this.getMistakes()\n  }\n  failOnMistakes() {\n    resultTryData.content = printResult(scoreBoard, this.state)\n  }\n}\n","import AbstractView from \"../../view\"\n\nconst mistakes = errors => {\n  let mistakeElement = ``\n  if (errors > 0) {\n    // create 1 note for each mistake and clump them together\n    while (errors) {\n      mistakeElement += `<img class=\"main-mistake\" src=\"img/wrong-answer.png\" width=\"35\" height=\"49\">`\n      errors--\n    }\n  }\n  return mistakeElement\n}\n\nexport default class HeaderView extends AbstractView {\n  constructor(errors, time) {\n    super()\n    this.errors = errors\n    this.time = time\n  }\n\n  get template() {\n    const minutes = parseInt(this.time / 60, 10)\n    const seconds = this.time - minutes * 60\n    const zero = value => (value < 10 ? `0` : ``) //show 0 if no left\n    return `\n<header>\n  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"timer\" viewBox=\"0 0 780 780\">\n    <circle\n      cx=\"390\" cy=\"390\" r=\"370\"\n      class=\"timer-line\"\n      style=\"filter: url(.#blur); transform: rotate(-90deg) scaleY(-1); transform-origin: center\"></circle>\n\n    <div class=\"timer-value\" xmlns=\"http://www.w3.org/1999/xhtml\">\n      <span class=\"timer-value-mins\">${zero(minutes)}${minutes}</span><!--\n      --><span class=\"timer-value-dots\">:</span><!--\n      --><span class=\"timer-value-secs\">${zero(seconds)}${seconds}</span>\n    </div>\n  </svg>\n  <div class=\"main-mistakes\">\n    ${mistakes(this.errors)}\n  </div>\n</header>`\n  }\n}\n","import AbstractView from \"../../view\"\nimport { $$, $on, $trigger } from \"../../util\"\n\nexport default class LevelGenreView extends AbstractView {\n  constructor(level) {\n    super()\n    this.level = level\n  }\n\n  get template() {\n    const { title, questions } = this.level\n\n    const questionsTemplate = data => {\n      return data.reduce((string, it, index) => {\n        const n = index++\n        const itemTemplate = `\n<div class=\"genre-answer\">\n  <div class=\"player-wrapper\">\n    <div class=\"player\">\n      <audio src=\"${it.src}\"></audio>\n      <button class=\"player-control player-control--play\"></button>\n      <div class=\"player-track\">\n        <span class=\"player-status\"></span>\n      </div>\n    </div>\n  </div>\n  <input type=\"checkbox\" name=\"answer\" value=\"answer-${n}\" id=\"a-${n}\">\n  <label class=\"genre-answer-check\" for=\"a-${n}\"></label>\n</div>`\n        return string + itemTemplate\n      }, ``)\n    }\n\n    return `\n<section class=\"main main--level main--level-genre\">\n  <div class=\"main-wrap\">\n    <h2 class=\"title\">${title}</h2>\n    <form class=\"genre\">\n\n      ${questionsTemplate(questions)}\n\n      <button class=\"genre-answer-send\" type=\"submit\" disabled>Answer</button>\n    </form>\n  </div>\n</section>`.trim()\n  }\n\n  bind() {\n    const answerButton = $$(`.genre-answer-send`, this.element)\n\n    const checkboxes = [\n      ...this.element.querySelectorAll(`.genre-answer input[type=\"checkbox\"]`)\n    ]\n\n    checkboxes.forEach(checkbox => {\n      $on(\n        `change`,\n        () => {\n          if (checkboxes.some(it => it.checked)) {\n            // if at least 1 checkbox checked, unblock button\n            answerButton.removeAttribute(`disabled`)\n          } else {\n            answerButton.setAttribute(`disabled`, `disabled`) // maybe add alert later?\n          }\n        },\n        checkbox\n      )\n    })\n\n    $on(`click`, evt => this.handlerAnswer(evt), answerButton)\n  }\n\n  handlerAnswer(evt) {\n    evt.preventDefault()\n    const answers = [...evt.target.form.elements.answer]\n    $trigger(`answerGenre`, answers) // new event\n  }\n}\n","import AbstractView from \"../../view\"\nimport { $on, $trigger } from \"../../util\"\n\nexport default class LevelArtistView extends AbstractView {\n  constructor(level) {\n    super()\n    this.level = level\n  }\n\n  get template() {\n    const { title, questions, src } = this.level\n\n    const questionsTemplate = data => {\n      // for each element in data - template\n      return data.reduce((string, it, index) => {\n        const n = index++\n        const itemTemplate = `\n<div class=\"main-answer-wrapper\">\n  <input class=\"main-answer-r\" type=\"radio\" id=\"answer-${n}\" name=\"answer\" value=\"val-${n}\"/>\n  <label class=\"main-answer\" for=\"answer-${n}\">\n    <img class=\"main-answer-preview\" src=\"${it.image}\"\n        alt=\"${it.artist}\" width=\"134\" height=\"134\">\n    ${it.artist}\n  </label>\n</div>`.trim()\n        return string + itemTemplate\n      }, ``)\n    }\n    // autoplay, so audio plays automatically\n    return `\n<section class=\"main main--level main--level-genre\">\n  <div class=\"main-wrap\">\n    <h2 class=\"title main-title\">${title}</h2>\n    <div class=\"player-wrapper\">\n      <div class=\"player\">\n        <audio src=\"${src}\" loop autoplay></audio>\n        <button class=\"player-control player-control--pause\"></button>\n        <div class=\"player-track\">\n          <span class=\"player-status\"></span>\n        </div>\n      </div>\n    </div>\n    <form class=\"main-list\">\n\n      ${questionsTemplate(questions)}\n\n    </form>\n  </div>\n</section>`.trim()\n  }\n\n  bind() {\n    const buttons = [...this.element.querySelectorAll(`.main-answer-r`)]\n    buttons.forEach(button => {\n      $on(\n        `change`, // change event fired off\n        () => {\n          const answer = button.form.elements.answer.value\n          $trigger(`answerArtist`, answer) // new event created\n        },\n        button\n      )\n    })\n  }\n}\n","import AbstractView from \"../view\"\nimport HeaderView from \"./header/header-view\"\nimport LevelGenreView from \"./level/level-genre-view\"\nimport LevelArtistView from \"./level/level-artist-view\"\nimport { changeView, $$, $on } from \"../util\"\n\nconst audio = {\n  BUTTON: `player-control`,\n  PLAY: `player-control--pause`,\n  PAUSE: `player-control--play`\n}\n\nexport default class GameView extends AbstractView {\n  constructor(model) {\n    super()\n    this.model = model\n  }\n\n  get template() {\n    return `<section class=\"main\"></section>`\n  }\n\n  bind() {\n    return super.bind()\n  }\n\n  bindAudioHandler() {\n    ;[...this.level.element.querySelectorAll(`.${audio.BUTTON}`)].forEach(\n      button => {\n        $on(`click`, evt => this.audioHandler(evt), button)\n      }\n    )\n  }\n\n  get view() {\n    return {\n      Genre(level) {\n        return new LevelGenreView(level)\n      },\n      Artist(level) {\n        return new LevelArtistView(level)\n      }\n    }\n  }\n\n  updateLevel(type) {\n    this.level = this.view[type](this.model.getCurrentLevel())\n    this.bindAudioHandler()\n    changeView(this.level)\n    this.updateHeader()\n  }\n\n  updateHeader() {\n    const header = new HeaderView(\n      this.model.getMistakes(),\n      this.model.state.time\n    )\n    const headerElement = $$(`section.main > header`) // for old structure\n    if (headerElement !== null) {\n      headerElement.remove()\n    }\n    $$(`section.main`).prepend(header.element)\n  }\n\n  audioHandler(evt) {\n    if (evt && evt.target) {\n      evt.preventDefault()\n      const el = evt.target\n      if (el.classList.contains(audio.PAUSE)) {\n        // play\n        ;[...this.level.element.querySelectorAll(`.${audio.PLAY}`)].forEach(\n          button => {\n            button.classList.remove(audio.PLAY)\n            button.classList.add(audio.PAUSE)\n            button.previousElementSibling.pause()\n          }\n        )\n        el.classList.remove(audio.PAUSE)\n        el.classList.add(audio.PLAY)\n        el.previousElementSibling.play()\n      } else {\n        // pause\n        el.classList.remove(audio.PLAY)\n        el.classList.add(audio.PAUSE)\n        el.previousElementSibling.pause()\n      }\n    }\n  }\n}\n","import { $on } from \"../util\"\nimport { MAX_ERRORS_COUNT, initialGame, levels } from \"../data/game.data\"\nimport Application from \"../application\"\nimport GameModel from \"./game-model\"\nimport GameView from \"./game-view\"\n\nclass GameScreen {\n  constructor(data = levels) {\n    this.model = new GameModel(data)\n    this.view = new GameView(this.model)\n    $on(`answerGenre`, evt => this.answerGenreHandler(evt))\n    $on(`answerArtist`, evt => this.answerArtistHandler(evt))\n  }\n\n  init(state = initialGame) {\n    this.model.resetAnswers(state)\n    this.model.update(state)\n    this.model.nextLevel()\n    this.changeLevel(this.model.getLevelType())\n  }\n\n  setAnswer(answer) {\n    const answerObj = {\n      isCorrect: answer === levels[this.model.state.level].answer,\n      timeSpent: 20\n    }\n    const answers = this.model.state.answers\n    answers.push(answerObj)\n    let remainingAttempts = this.model.state.remainingAttempts\n    if (!answerObj.isCorrect) {\n      remainingAttempts--\n    }\n\n    this.model.update({\n      answers,\n      remainingAttempts\n    })\n  }\n\n  setGame() {\n    if (\n      this.model.isLastLevel() &&\n      this.model.getMistakes() < MAX_ERRORS_COUNT\n    ) {\n      // if last level + enough lives left\n      this.model.win()\n      // Application.win();\n      Application.showResult(`WIN`)\n    } else if (this.model.getMistakes() >= MAX_ERRORS_COUNT) {\n      // too many mistakes\n      this.model.failOnMistakes()\n      // Application.failOnMistakes();\n      Application.showResult(`TRY`)\n    } else {\n      this.model.nextLevel()\n      this.changeLevel(this.model.getLevelType())\n    }\n  }\n\n  changeLevel(type) {\n    this.view.updateLevel(type)\n  }\n\n  tick() {\n    this.model.tick()\n    this.view.updateHeader()\n\n    if (this.model.state.time <= 0) {\n      // Application.failNoMoreTime();\n      Application.showResult(`TIME`)\n    } else {\n      this.timer = setTimeout(() => this.tick(), 1000)\n    }\n  }\n\n  stopTimer() {\n    clearTimeout(this.timer)\n  }\n\n  answerGenreHandler(evt) {\n    const answers = evt.detail\n    let answerMask = ``\n    for (let answer of answers) {\n      answerMask += answer.checked ? 1 : 0\n    }\n    this.setAnswer(answerMask)\n    this.setGame()\n  }\n\n  answerArtistHandler(evt) {\n    const answer = +evt.detail.split(`-`)[1]\n    this.setAnswer(answer)\n    this.setGame()\n  }\n}\n\nexport default GameScreen\n"],"names":["data","tryData","timeData","winData","levelsData","resultWinData","resultTryData"],"mappings":"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"}