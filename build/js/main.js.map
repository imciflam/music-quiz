{"version":3,"file":"main.js","sources":["js/util.js","js/view.js","js/welcome/welcome-view.js","js/welcome/welcome.js","js/data/game.data.js","js/game/game-model.js","js/game/header/header-view.js","js/game/level/level-genre-view.js","js/game/level/level-artist-view.js","js/game/game-view.js","js/game/game.js","js/app.js","js/main.js"],"sourcesContent":["// create element\nexport const createElement = template => {\n  const outer = document.createElement(`div`);\n  outer.innerHTML = template;\n  return outer.firstElementChild;\n};\n\n// make selection\nexport const $$ = (selector, scope = window.document) => {\n  return scope.querySelector(selector);\n};\n\nconst appElement = $$(`.app`);\n\n// replacing screen\nexport const changeView = view => {\n  console.log($$(`section.main`));\n  appElement.replaceChild(view.element, $$(`section.main`));\n};\n\n// listen to event\nexport const $on = (eventName, callback, el = appElement) => {\n  el.addEventListener(eventName, evt => {\n    callback(evt);\n  });\n};\n\n// generate event\nexport const $trigger = (eventName, data = null) => {\n  let customEvent = new CustomEvent(eventName, { detail: data });\n  appElement.dispatchEvent(customEvent);\n};\n","import {createElement} from './util';\n\nexport default class AbstractView {\n\n  get template() {\n    throw new Error(`You have to define template for view`);\n  }\n\n  render() {\n    return createElement(this.template.trim());\n  }\n\n  bind() {\n\n  }\n\n  get element() {\n    if (!this._element) {\n      this._element = this.render();\n      this.bind();\n    }\n    return this._element;\n  }\n\n}\n","import AbstractView from \"../view\";\nimport { $$, $on, $trigger } from \"../util\";\n\nexport default class WelcomeView extends AbstractView {\n  constructor() {\n    super();\n  }\n\n  get template() {\n    return `\n<section class=\"main main--welcome welcome\">\n  <section class=\"logo\" title=\"Угадай мелодию\"><h1>Угадай мелодию</h1></section>\n  <button class=\"main-play welcome__button\"></button>\n  <h2 class=\"title main-title\"> </h2>\n  <p class=\"text main-text\"> </p>\n</section>`.trim();\n  }\n\n  bind() {\n    $on(`click`, () => $trigger(`start`), $$(`.welcome__button`, this.element));\n  }\n\n  onStart() {}\n}\n","import { changeView } from \"../util\";\nimport WelcomeView from \"./welcome-view\";\n\nclass WelcomeScreen {\n  constructor() {\n    this.view = new WelcomeView();\n  }\n\n  init() {\n    changeView(this.view);\n  }\n}\n\nexport default new WelcomeScreen();\n","const samples = [\n  {\n    artist: `Kevin MacLeod`,\n    name: `Long Stroll`,\n    image: `https://yt3.ggpht.com/-fkDeGauT7Co/AAAAAAAAAAI/AAAAAAAAAAA/dkF5ZKkrxRo/s900-c-k-no-mo-rj-c0xffffff/photo.jpg`,\n    src: `https://www.youtube.com/audiolibrary_download?vid=91624fdc22fc54ed`,\n    genre: `Jazz`\n  }, {\n    artist: `Jingle Punks`,\n    name: `In the Land of Rhinoplasty`,\n    image: `https://i.vimeocdn.com/portrait/992615_300x300`,\n    src: `https://www.youtube.com/audiolibrary_download?vid=dc3b4dc549becd6b`,\n    genre: `Rock`\n  }, {\n    artist: `Audionautix`,\n    name: `Travel Light`,\n    image: `http://4.bp.blogspot.com/-kft9qu5ET6U/VPFUBi9W-MI/AAAAAAAACYM/UxXilXKYwOc/s1600/audionautix%2BHalf%2BSize.jpg`,\n    src: `https://www.youtube.com/audiolibrary_download?vid=a127d9b7de8a17cf`,\n    genre: `Country`\n  }, {\n    artist: `Riot`,\n    name: `\tLevel Plane`,\n    image: `https://i.ytimg.com/vi/jzgM3m8Vp1k/maxresdefault.jpg`,\n    src: `https://www.youtube.com/audiolibrary_download?vid=dfb828f40096184c`,\n    genre: `R&B`\n  }, {\n    artist: `Jingle Punks`,\n    name: `Lucky Day`,\n    image: `https://i.vimeocdn.com/portrait/992615_300x300`,\n    src: `https://www.youtube.com/audiolibrary_download?vid=bcbe5be936a32fb1`,\n    genre: `Pop`\n  }, {\n    artist: `Gunnar Olsen`,\n    name: `Home Stretch`,\n    image: `https://f4.bcbits.com/img/0004181452_10.jpg`,\n    src: `https://www.youtube.com/audiolibrary_download?vid=bcbe5be936a32fb1`,\n    genre: `Electronic`\n  }\n];\n\nexport const levels = [\n  {\n    type: `Genre`,\n    title: `Выберите Jazz треки`,\n    questions: [\n      samples[0],\n      samples[1],\n      samples[2],\n      samples[3]\n    ],\n    answer: `1000`\n  }, {\n    type: `Genre`,\n    title: `Выберите Rock треки`,\n    questions: [\n      samples[0],\n      samples[1],\n      samples[2],\n      samples[3]\n    ],\n    answer: `0110`\n  }, {\n    type: `Genre`,\n    title: `Выберите Country треки`,\n    questions: [\n      samples[0],\n      samples[1],\n      samples[2],\n      samples[3]\n    ],\n    answer: `0010`\n  }, {\n    type: `Genre`,\n    title: `Выберите R&B треки`,\n    questions: [\n      samples[0],\n      samples[1],\n      samples[2],\n      samples[3]\n    ],\n    answer: `0001`\n  }, {\n    type: `Genre`,\n    title: `Выберите Pop треки`,\n    questions: [\n      samples[4],\n      samples[1],\n      samples[2],\n      samples[3]\n    ],\n    answer: `1000`\n  }, {\n    type: `Genre`,\n    title: `Выберите Electronic треки`,\n    questions: [\n      samples[0],\n      samples[5],\n      samples[2],\n      samples[3]\n    ],\n    answer: `0100`\n  }, {\n    type: `Artist`,\n    title: `Кто исполняет эту песню?`,\n    questions: [\n      samples[0],\n      samples[1],\n      samples[2]\n    ],\n    src: samples[0].src,\n    answer: 0\n  }, {\n    type: `Artist`,\n    title: `Кто исполняет эту песню?`,\n    questions: [\n      samples[1],\n      samples[2],\n      samples[3]\n    ],\n    src: samples[2].src,\n    answer: 1\n  }, {\n    type: `Artist`,\n    title: `Кто исполняет эту песню?`,\n    questions: [\n      samples[3],\n      samples[2],\n      samples[1]\n    ],\n    src: samples[1].src,\n    answer: 2\n  }, {\n    type: `Artist`,\n    title: `Кто исполняет эту песню?`,\n    questions: [\n      samples[0],\n      samples[1],\n      samples[2]\n    ],\n    src: samples[1].src,\n    answer: 1\n  }\n];\n\nexport const LEVELS_COUNT = 10;\nexport const FAST_ANSWER_PERIOD = 30;\nexport const MAX_ERRORS_COUNT = 4;\nexport const TIME_FOR_GAME = 60 * 5 + 1; // 5 minutes + 1 second\n\nconst label = {\n  GAME: `Угадай мелодию`,\n\n  TITLE_WIN: `Вы настоящий меломан!`,\n  TITLE_WELCOME: `Правила игры`,\n  TITLE_FAIL_TIME: `Увы и ах!`,\n  TITLE_FAIL_TRY: `Какая жалость!`,\n\n  BUTTON_WELCOME: `Начать игру`,\n  BUTTON_WIN: `Сыграть ещё раз`,\n  BUTTON_FAIL: `Попробовать ещё раз`\n};\n\nconst phrases = {\n  timeIsUp: () => `Время вышло!<br>Вы не успели отгадать все мелодии`,\n  noMoreAttempts: () =>\n    `У вас закончились все попытки.<br>Ничего, повезёт в следующий раз!`,\n  win: ({place, playersCount, betterThan}) =>\n    `Вы заняли ${place}-ое место из ${playersCount} игроков. Это&nbsp;лучше чем у&nbsp;${betterThan}%&nbsp;игроков`\n};\n\nexport const welcome = {\n  name: label.GAME,\n  title: label.TITLE_WELCOME,\n  rules: [\n    `Правила просты&nbsp;— за&nbsp;5 минут ответить на все вопросы.`,\n    `Ошибиться можно 3 раза.`,\n    `Удачи!`\n  ],\n  button: label.BUTTON_WELCOME\n};\n\nexport const resultTry = {\n  name: label.GAME,\n  title: label.TITLE_FAIL_TRY,\n  button: label.BUTTON_FAIL,\n  isWin: false\n};\n\nexport const resultTime = {\n  name: label.GAME,\n  title: label.TITLE_FAIL_TIME,\n  button: label.BUTTON_FAIL,\n  content: phrases.timeIsUp(),\n  isWin: false\n};\n\nexport const resultWin = {\n  name: label.GAME,\n  title: label.TITLE_WIN,\n  button: label.BUTTON_WIN,\n  isWin: true\n};\n\nexport const scoreBoard = [];\n\nexport const initialGame = {\n  level: -1,\n  remainingAttempts: MAX_ERRORS_COUNT,\n  time: TIME_FOR_GAME,\n  answers: []\n};\n\nexport const tick = (game) => {\n  game = Object.assign({}, game);\n  game.time--;\n  return game;\n};\n\nexport const getLevel = (index, allLevels = levels) => allLevels[index];\n\nexport const nextLevel = (state, allLevels = levels) => {\n  const index = state.level + 1;\n  if (!getLevel(index, allLevels)) {\n    throw new RangeError(`Can't find level ${index}`);\n  }\n  state.level = index;\n  return state;\n};\n\nexport const startGame = () => {\n  nextLevel();\n};\n\nexport const getAllLevelsTypes = (allLevels = levels) => {\n  return allLevels.map((level) => level.type);\n};\n\nexport const setLives = (game, lives) => {\n  if (lives < 0) {\n    throw new RangeError(`Can't set negative lives`);\n  }\n  game = Object.assign({}, game);\n  game.lives = lives;\n  return game;\n};\n\nexport const getScore = (answers) => {\n  let score = -1;\n\n  if (answers.length === LEVELS_COUNT) {\n    score = answers.reduce((acc, it) => {\n      let point = -2;\n      if (it.isCorrect) {\n        point = (it.timeSpent < FAST_ANSWER_PERIOD) ? 2 : 1;\n      }\n      return acc + point;\n    }, 0);\n  }\n  return score;\n};\n\nconst getTimeSpent = (answers) => {\n  let time = answers.reduce((acc, it) => {\n    return acc + it.timeSpent;\n  }, 0);\n  return time;\n};\n\nconst getPosition = (statistics, score) => {\n  // создаём из таблицы результатов, массив объектов: { position, score }\n  const statisticsIndexed = statistics\n      .map((scoreFromStaticstics, position) => ({\n        position,\n        score: scoreFromStaticstics\n      }));\n\n  // кладём в таблицу результат новой игры\n  statisticsIndexed.push({\n    position: null,\n    score\n  });\n\n  // получаем позицию новой игры в таблице результатов\n  const position = statisticsIndexed\n      .sort((a, b) => b.score - a.score)\n      .reduce((acc, it, index) => {\n        if (it.position === null) {\n          acc = index;\n        }\n        return acc;\n      }, -1);\n\n  if (position === -1) {\n    throw new Error(`Can't define position in Scoreboard`);\n  }\n  return position;\n};\n\nexport const printResult = (statistics, game) => {\n  let endGameMessage = ``;\n  const score = getScore(game.answers);\n  const time = getTimeSpent(game.answers);\n\n  if (game.remainingAttempts > 0 && time < TIME_FOR_GAME) {\n    // выйгрыш\n    const position = getPosition(statistics, score);\n    statistics.push(score);\n    statistics.sort((a, b) => b - a);\n\n    const stats = {\n      place: position + 1,\n      playersCount: statistics.length,\n      betterThan: Math.round((statistics.length - position - 1) * 100 / statistics.length)\n    };\n    endGameMessage = phrases.win(stats);\n\n  } else {\n    // проигрыш\n    endGameMessage = (time > TIME_FOR_GAME) ? phrases.timeIsUp() : phrases.noMoreAttempts();\n  }\n\n  return endGameMessage;\n};\n\nexport class Timer {\n  constructor(time) {\n    this.time = time;\n  }\n\n  get isFinished() {\n    return this.time < 1;\n  }\n\n  get time() {\n    return this._time;\n  }\n\n  set time(value) {\n    this._time = value;\n  }\n\n  tick() {\n    this.time--;\n  }\n}\n","import {\n  getLevel,\n  nextLevel,\n  printResult,\n  getScore,\n  getAllLevelsTypes,\n  scoreBoard,\n  tick,\n  levels as levelsData,\n  resultWin as resultWinData,\n  resultTry as resultTryData,\n  MAX_ERRORS_COUNT,\n  LEVELS_COUNT\n} from '../data/game.data';\n\nexport default class GameModel {\n  constructor(data = levelsData) {\n    this.data = data;\n  }\n\n  update(newState) {\n    this.state = Object.assign({}, this.state, newState);\n    return this.state;\n  }\n\n  resetAnswers(state) {\n    state.answers = [];\n  }\n\n  getCurrentLevel() {\n    return getLevel(this.state.level, this.data);\n  }\n\n  nextLevel() {\n    this.update(nextLevel(this.state, this.data));\n  }\n\n  tick() {\n    this.update(tick(this.state));\n  }\n\n  getMistakes() {\n    return MAX_ERRORS_COUNT - this.state.remainingAttempts;\n  }\n\n  getLevelType() {\n    return this.getCurrentLevel().type;\n  }\n\n  getAllLevelsTypes() {\n    return getAllLevelsTypes();\n  }\n\n  isLastLevel() {\n    return this.state.level === LEVELS_COUNT - 1;\n  }\n\n  win() {\n    resultWinData.content = printResult(scoreBoard, this.state);\n    resultWinData.score = getScore(this.state.answers);\n    resultWinData.errors = this.getMistakes();\n  }\n  failOnMistakes() {\n    resultTryData.content = printResult(scoreBoard, this.state);\n  }\n}\n","import AbstractView from '../../view';\n\nconst mistakes = (errors) => {\n  let mistakeElement = ``;\n  if (errors > 0) {\n    while (errors) {\n      mistakeElement += `<img class=\"main-mistake\" src=\"img/wrong-answer.png\" width=\"35\" height=\"49\">`;\n      errors--;\n    }\n  }\n  return mistakeElement;\n};\n\nexport default class HeaderView extends AbstractView {\n  constructor(errors, time) {\n    super();\n    this.errors = errors;\n    this.time = time;\n  }\n\n  get template() {\n    const minutes = parseInt(this.time / 60, 10);\n    const seconds = this.time - minutes * 60;\n    const zero = (value) => (value < 10) ? `0` : ``;\n    return `\n<header>\n  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"timer\" viewBox=\"0 0 780 780\">\n    <circle\n      cx=\"390\" cy=\"390\" r=\"370\"\n      class=\"timer-line\"\n      style=\"filter: url(.#blur); transform: rotate(-90deg) scaleY(-1); transform-origin: center\"></circle>\n\n    <div class=\"timer-value\" xmlns=\"http://www.w3.org/1999/xhtml\">\n      <span class=\"timer-value-mins\">${zero(minutes)}${minutes}</span><!--\n      --><span class=\"timer-value-dots\">:</span><!--\n      --><span class=\"timer-value-secs\">${zero(seconds)}${seconds}</span>\n    </div>\n  </svg>\n  <div class=\"main-mistakes\">\n    ${mistakes(this.errors)}\n  </div>\n</header>`;\n  }\n}\n\n","import AbstractView from '../../view';\nimport {$$, $on, $trigger} from '../../util';\n\nexport default class LevelGenreView extends AbstractView {\n  constructor(level) {\n    super();\n    this.level = level;\n  }\n\n  get template() {\n    const {title, questions} = this.level;\n\n    const questionsTemplate = (data) => {\n      return data.reduce((string, it, index) => {\n        const n = index++;\n        const itemTemplate = `\n<div class=\"genre-answer\">\n  <div class=\"player-wrapper\">\n    <div class=\"player\">\n      <audio src=\"${it.src}\"></audio>\n      <button class=\"player-control player-control--play\"></button>\n      <div class=\"player-track\">\n        <span class=\"player-status\"></span>\n      </div>\n    </div>\n  </div>\n  <input type=\"checkbox\" name=\"answer\" value=\"answer-${n}\" id=\"a-${n}\">\n  <label class=\"genre-answer-check\" for=\"a-${n}\"></label>\n</div>`;\n        return string + itemTemplate;\n      }, ``);\n    };\n\n    return `\n<section class=\"main main--level main--level-genre\">\n  <div class=\"main-wrap\">\n    <h2 class=\"title\">${title}</h2>\n    <form class=\"genre\">\n\n      ${questionsTemplate(questions)}\n\n      <button class=\"genre-answer-send\" type=\"submit\" disabled>Ответить</button>\n    </form>\n  </div>\n</section>`.trim();\n  }\n\n  bind() {\n    const answerButton = $$(`.genre-answer-send`, this.element);\n\n    const checkboxes = [...this.element.querySelectorAll(`.genre-answer input[type=\"checkbox\"]`)];\n\n    checkboxes.forEach((checkbox) => {\n      $on(`change`, () => {\n        if (checkboxes.some((it) => it.checked)) {\n          answerButton.removeAttribute(`disabled`);\n        } else {\n          answerButton.setAttribute(`disabled`, `disabled`);\n        }\n      }, checkbox);\n    });\n\n    $on(`click`, (evt) => this.handlerAnswer(evt), answerButton);\n  }\n\n  handlerAnswer(evt) {\n    evt.preventDefault();\n    const answers = [...evt.target.form.elements.answer];\n    $trigger(`answerGenre`, answers);\n  }\n}\n","import AbstractView from '../../view';\nimport {$on, $trigger} from '../../util';\n\nexport default class LevelArtistView extends AbstractView {\n  constructor(level) {\n    super();\n    this.level = level;\n  }\n\n  get template() {\n    const {title, questions, src} = this.level;\n\n    const questionsTemplate = (data) => {\n      return data.reduce((string, it, index) => {\n        const n = index++;\n        const itemTemplate = `\n<div class=\"main-answer-wrapper\">\n  <input class=\"main-answer-r\" type=\"radio\" id=\"answer-${n}\" name=\"answer\" value=\"val-${n}\"/>\n  <label class=\"main-answer\" for=\"answer-${n}\">\n    <img class=\"main-answer-preview\" src=\"${it.image}\"\n        alt=\"${it.artist}\" width=\"134\" height=\"134\">\n    ${it.artist}\n  </label>\n</div>`.trim();\n        return string + itemTemplate;\n      }, ``);\n    };\n\n    return `\n<section class=\"main main--level main--level-genre\">\n  <div class=\"main-wrap\">\n    <h2 class=\"title main-title\">${title}</h2>\n    <div class=\"player-wrapper\">\n      <div class=\"player\">\n        <audio src=\"${src}\" loop autoplay></audio>\n        <button class=\"player-control player-control--pause\"></button>\n        <div class=\"player-track\">\n          <span class=\"player-status\"></span>\n        </div>\n      </div>\n    </div>\n    <form class=\"main-list\">\n\n      ${questionsTemplate(questions)}\n\n    </form>\n  </div>\n</section>`.trim();\n  }\n\n  bind() {\n    const buttons = [...this.element.querySelectorAll(`.main-answer-r`)];\n    buttons.forEach((button) => {\n      $on(`change`, () => {\n        const answer = button.form.elements.answer.value;\n        $trigger(`answerArtist`, answer);\n      }, button);\n    });\n  }\n}\n","import AbstractView from '../view';\nimport HeaderView from './header/header-view';\nimport LevelGenreView from './level/level-genre-view';\nimport LevelArtistView from './level/level-artist-view';\nimport {changeView, $$, $on} from '../util';\n\nconst audio = {\n  BUTTON: `player-control`,\n  PLAY: `player-control--pause`,\n  PAUSE: `player-control--play`\n};\n\nexport default class GameView extends AbstractView {\n  constructor(model) {\n    super();\n    this.model = model;\n  }\n\n  get template() {\n    return `<section class=\"main\"></section>`;\n  }\n\n  bind() {\n    return super.bind();\n  }\n\n  bindAudioHandler() {\n    [...this.level.element.querySelectorAll(`.${audio.BUTTON}`)].forEach((button) => {\n      $on(`click`, (evt) => this.audioHandler(evt), button);\n    });\n  }\n\n  get view() {\n    return {\n      Genre(level) {\n        return new LevelGenreView(level);\n      },\n      Artist(level) {\n        return new LevelArtistView(level);\n      }\n    };\n  }\n\n  updateLevel(type) {\n    this.level = this.view[type](this.model.getCurrentLevel());\n    this.bindAudioHandler();\n    changeView(this.level);\n    this.updateHeader();\n  }\n\n  updateHeader() {\n    const header = new HeaderView(this.model.getMistakes(), this.model.state.time);\n    const headerElement = $$(`section.main > header`);\n    if (headerElement !== null) {\n      headerElement.remove();\n    }\n    $$(`section.main`).prepend(header.element);\n  }\n\n  audioHandler(evt) {\n    if (evt && evt.target) {\n      evt.preventDefault();\n      const el = evt.target;\n      if (el.classList.contains(audio.PAUSE)) {\n        // play\n        [...this.level.element.querySelectorAll(`.${audio.PLAY}`)].forEach((button) => {\n          button.classList.remove(audio.PLAY);\n          button.classList.add(audio.PAUSE);\n          button.previousElementSibling.pause();\n        });\n        el.classList.remove(audio.PAUSE);\n        el.classList.add(audio.PLAY);\n        el.previousElementSibling.play();\n      } else {\n        // pause\n        el.classList.remove(audio.PLAY);\n        el.classList.add(audio.PAUSE);\n        el.previousElementSibling.pause();\n      }\n    }\n  }\n\n}\n","import { $on } from \"../util\";\nimport { initialGame, levels } from \"../data/game.data\";\nimport App from \"../app\";\nimport GameModel from \"./game-model\";\nimport GameView from \"./game-view\";\n\nconst MAX_ERRORS_COUNT = 4;\n\nclass GameScreen {\n  constructor(data = levels) {\n    this.model = new GameModel(data);\n    this.view = new GameView(this.model);\n    $on(`answerGenre`, evt => this.answerGenreHandler(evt));\n    $on(`answerArtist`, evt => this.answerArtistHandler(evt));\n  }\n\n  init(state = initialGame) {\n    this.model.resetAnswers(state);\n    this.model.update(state);\n    this.model.nextLevel();\n    this.changeLevel(this.model.getLevelType());\n  }\n\n  setAnswer(answer) {\n    const answerObj = {\n      isCorrect: answer === levels[this.model.state.level].answer,\n      timeSpent: 20\n    };\n    const answers = this.model.state.answers;\n    answers.push(answerObj);\n    let remainingAttempts = this.model.state.remainingAttempts;\n    if (!answerObj.isCorrect) {\n      remainingAttempts--;\n    }\n\n    this.model.update({\n      answers,\n      remainingAttempts\n    });\n  }\n\n  setGame() {\n    if (\n      this.model.isLastLevel() &&\n      this.model.getMistakes() < MAX_ERRORS_COUNT\n    ) {\n      // сделан ответ на последнем уровне и есть запас по ошибкам\n      this.model.win();\n      App.showResult(`WIN`);\n    } else if (this.model.getMistakes() >= MAX_ERRORS_COUNT) {\n      // превышен лимит ошибок\n      this.model.failOnMistakes();\n      App.showResult(`TRY`);\n    } else {\n      this.model.nextLevel();\n      this.changeLevel(this.model.getLevelType());\n    }\n  }\n\n  changeLevel(type) {\n    this.view.updateLevel(type);\n  }\n\n  tick() {\n    this.model.tick();\n    this.view.updateHeader();\n\n    if (this.model.state.time <= 0) {\n      // Application.failNoMoreTime();\n      App.showResult(`TIME`);\n    } else {\n      this.timer = setTimeout(() => this.tick(), 1000);\n    }\n  }\n\n  stopTimer() {\n    clearTimeout(this.timer);\n  }\n\n  answerGenreHandler(evt) {\n    const answers = evt.detail;\n    let answerMask = ``;\n    for (let answer of answers) {\n      answerMask += answer.checked ? 1 : 0;\n    }\n    this.setAnswer(answerMask);\n    this.setGame();\n  }\n\n  answerArtistHandler(evt) {\n    const answer = +evt.detail.split(`-`)[1];\n    this.setAnswer(answer);\n    this.setGame();\n  }\n}\n\nexport default GameScreen;\n","import welcomeScreen from \"./welcome/welcome\";\nimport GameScreen from \"./game/game\";\nimport {\n  resultTry as tryData,\n  resultTime as timeData,\n  resultWin as winData,\n  levels as levelsData,\n  initialGame\n} from \"./data/game.data\";\nimport { $on } from \"./util\";\n\nexport default class App {\n  // constructor() {\n  //   this.main = document.querySelector(`.app`);\n  //   this.main.addEventListener(\"DOMContentLoaded\", this.ready());\n  // }\n  static init(data) {\n    welcomeScreen.init();\n    App.game = new GameScreen(data);\n    $on(`start`, App.startGame);\n    $on(`replay`, App.startGame);\n    // welcomeButton.addEventListener(`click`, () => {\n    //  //static, so call class method\n    //  Loader.getLevels().then(data => {\n    //    console.log(data);\n    //  });\n    // });\n  }\n\n  static startGame(evt, state = initialGame) {\n    App.game.init(state);\n    App.game.tick();\n  }\n\n  returner() {\n    const returnButton = document.querySelector(`.game__back`);\n    returnButton.addEventListener(`click`, () => {\n      this.slider(0);\n    });\n  }\n}\n\nApp.init(levelsData);\n","import App from \"./app\";\n\nconst app = new App();\n"],"names":["MAX_ERRORS_COUNT","levelsData","resultWinData","resultTryData"],"mappings":";;;AAAA;AACA,AAAO,MAAM,aAAa,GAAG,QAAQ,IAAI;EACvC,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EAC5C,KAAK,CAAC,SAAS,GAAG,QAAQ,CAAC;EAC3B,OAAO,KAAK,CAAC,iBAAiB,CAAC;CAChC,CAAC;;;AAGF,AAAO,MAAM,EAAE,GAAG,CAAC,QAAQ,EAAE,KAAK,GAAG,MAAM,CAAC,QAAQ,KAAK;EACvD,OAAO,KAAK,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;CACtC,CAAC;;AAEF,MAAM,UAAU,GAAG,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;;;AAG9B,AAAO,MAAM,UAAU,GAAG,IAAI,IAAI;EAChC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;EAChC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;CAC3D,CAAC;;;AAGF,AAAO,MAAM,GAAG,GAAG,CAAC,SAAS,EAAE,QAAQ,EAAE,EAAE,GAAG,UAAU,KAAK;EAC3D,EAAE,CAAC,gBAAgB,CAAC,SAAS,EAAE,GAAG,IAAI;IACpC,QAAQ,CAAC,GAAG,CAAC,CAAC;GACf,CAAC,CAAC;CACJ,CAAC;;;AAGF,AAAO,MAAM,QAAQ,GAAG,CAAC,SAAS,EAAE,IAAI,GAAG,IAAI,KAAK;EAClD,IAAI,WAAW,GAAG,IAAI,WAAW,CAAC,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;EAC/D,UAAU,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;CACvC,CAAC;;AC7Ba,MAAM,YAAY,CAAC;;EAEhC,IAAI,QAAQ,GAAG;IACb,MAAM,IAAI,KAAK,CAAC,CAAC,oCAAoC,CAAC,CAAC,CAAC;GACzD;;EAED,MAAM,GAAG;IACP,OAAO,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC;GAC5C;;EAED,IAAI,GAAG;;GAEN;;EAED,IAAI,OAAO,GAAG;IACZ,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;MAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;MAC9B,IAAI,CAAC,IAAI,EAAE,CAAC;KACb;IACD,OAAO,IAAI,CAAC,QAAQ,CAAC;GACtB;;CAEF;;ACrBc,MAAM,WAAW,SAAS,YAAY,CAAC;EACpD,WAAW,GAAG;IACZ,KAAK,EAAE,CAAC;GACT;;EAED,IAAI,QAAQ,GAAG;IACb,OAAO,CAAC;;;;;;UAMF,CAAC,CAAC,IAAI,EAAE,CAAC;GAChB;;EAED,IAAI,GAAG;IACL,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE,MAAM,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,gBAAgB,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;GAC7E;;EAED,OAAO,GAAG,EAAE;CACb;;ACpBD,MAAM,aAAa,CAAC;EAClB,WAAW,GAAG;IACZ,IAAI,CAAC,IAAI,GAAG,IAAI,WAAW,EAAE,CAAC;GAC/B;;EAED,IAAI,GAAG;IACL,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;GACvB;CACF;;AAED,oBAAe,IAAI,aAAa,EAAE,CAAC;;ACbnC,MAAM,OAAO,GAAG;EACd;IACE,MAAM,EAAE,CAAC,aAAa,CAAC;IACvB,IAAI,EAAE,CAAC,WAAW,CAAC;IACnB,KAAK,EAAE,CAAC,4GAA4G,CAAC;IACrH,GAAG,EAAE,CAAC,kEAAkE,CAAC;IACzE,KAAK,EAAE,CAAC,IAAI,CAAC;GACd,EAAE;IACD,MAAM,EAAE,CAAC,YAAY,CAAC;IACtB,IAAI,EAAE,CAAC,0BAA0B,CAAC;IAClC,KAAK,EAAE,CAAC,8CAA8C,CAAC;IACvD,GAAG,EAAE,CAAC,kEAAkE,CAAC;IACzE,KAAK,EAAE,CAAC,IAAI,CAAC;GACd,EAAE;IACD,MAAM,EAAE,CAAC,WAAW,CAAC;IACrB,IAAI,EAAE,CAAC,YAAY,CAAC;IACpB,KAAK,EAAE,CAAC,6GAA6G,CAAC;IACtH,GAAG,EAAE,CAAC,kEAAkE,CAAC;IACzE,KAAK,EAAE,CAAC,OAAO,CAAC;GACjB,EAAE;IACD,MAAM,EAAE,CAAC,IAAI,CAAC;IACd,IAAI,EAAE,CAAC,YAAY,CAAC;IACpB,KAAK,EAAE,CAAC,oDAAoD,CAAC;IAC7D,GAAG,EAAE,CAAC,kEAAkE,CAAC;IACzE,KAAK,EAAE,CAAC,GAAG,CAAC;GACb,EAAE;IACD,MAAM,EAAE,CAAC,YAAY,CAAC;IACtB,IAAI,EAAE,CAAC,SAAS,CAAC;IACjB,KAAK,EAAE,CAAC,8CAA8C,CAAC;IACvD,GAAG,EAAE,CAAC,kEAAkE,CAAC;IACzE,KAAK,EAAE,CAAC,GAAG,CAAC;GACb,EAAE;IACD,MAAM,EAAE,CAAC,YAAY,CAAC;IACtB,IAAI,EAAE,CAAC,YAAY,CAAC;IACpB,KAAK,EAAE,CAAC,2CAA2C,CAAC;IACpD,GAAG,EAAE,CAAC,kEAAkE,CAAC;IACzE,KAAK,EAAE,CAAC,UAAU,CAAC;GACpB;CACF,CAAC;;AAEF,AAAO,MAAM,MAAM,GAAG;EACpB;IACE,IAAI,EAAE,CAAC,KAAK,CAAC;IACb,KAAK,EAAE,CAAC,mBAAmB,CAAC;IAC5B,SAAS,EAAE;MACT,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;KACX;IACD,MAAM,EAAE,CAAC,IAAI,CAAC;GACf,EAAE;IACD,IAAI,EAAE,CAAC,KAAK,CAAC;IACb,KAAK,EAAE,CAAC,mBAAmB,CAAC;IAC5B,SAAS,EAAE;MACT,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;KACX;IACD,MAAM,EAAE,CAAC,IAAI,CAAC;GACf,EAAE;IACD,IAAI,EAAE,CAAC,KAAK,CAAC;IACb,KAAK,EAAE,CAAC,sBAAsB,CAAC;IAC/B,SAAS,EAAE;MACT,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;KACX;IACD,MAAM,EAAE,CAAC,IAAI,CAAC;GACf,EAAE;IACD,IAAI,EAAE,CAAC,KAAK,CAAC;IACb,KAAK,EAAE,CAAC,kBAAkB,CAAC;IAC3B,SAAS,EAAE;MACT,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;KACX;IACD,MAAM,EAAE,CAAC,IAAI,CAAC;GACf,EAAE;IACD,IAAI,EAAE,CAAC,KAAK,CAAC;IACb,KAAK,EAAE,CAAC,kBAAkB,CAAC;IAC3B,SAAS,EAAE;MACT,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;KACX;IACD,MAAM,EAAE,CAAC,IAAI,CAAC;GACf,EAAE;IACD,IAAI,EAAE,CAAC,KAAK,CAAC;IACb,KAAK,EAAE,CAAC,yBAAyB,CAAC;IAClC,SAAS,EAAE;MACT,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;KACX;IACD,MAAM,EAAE,CAAC,IAAI,CAAC;GACf,EAAE;IACD,IAAI,EAAE,CAAC,MAAM,CAAC;IACd,KAAK,EAAE,CAAC,wBAAwB,CAAC;IACjC,SAAS,EAAE;MACT,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;KACX;IACD,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG;IACnB,MAAM,EAAE,CAAC;GACV,EAAE;IACD,IAAI,EAAE,CAAC,MAAM,CAAC;IACd,KAAK,EAAE,CAAC,wBAAwB,CAAC;IACjC,SAAS,EAAE;MACT,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;KACX;IACD,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG;IACnB,MAAM,EAAE,CAAC;GACV,EAAE;IACD,IAAI,EAAE,CAAC,MAAM,CAAC;IACd,KAAK,EAAE,CAAC,wBAAwB,CAAC;IACjC,SAAS,EAAE;MACT,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;KACX;IACD,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG;IACnB,MAAM,EAAE,CAAC;GACV,EAAE;IACD,IAAI,EAAE,CAAC,MAAM,CAAC;IACd,KAAK,EAAE,CAAC,wBAAwB,CAAC;IACjC,SAAS,EAAE;MACT,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;MACV,OAAO,CAAC,CAAC,CAAC;KACX;IACD,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG;IACnB,MAAM,EAAE,CAAC;GACV;CACF,CAAC;;AAEF,AAAO,MAAM,YAAY,GAAG,EAAE,CAAC;AAC/B,AAAO,MAAM,kBAAkB,GAAG,EAAE,CAAC;AACrC,AAAO,MAAMA,kBAAgB,GAAG,CAAC,CAAC;AAClC,AAAO,MAAM,aAAa,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;;AAExC,MAAM,KAAK,GAAG;EACZ,IAAI,EAAE,CAAC,cAAc,CAAC;;EAEtB,SAAS,EAAE,CAAC,qBAAqB,CAAC;EAClC,aAAa,EAAE,CAAC,YAAY,CAAC;EAC7B,eAAe,EAAE,CAAC,SAAS,CAAC;EAC5B,cAAc,EAAE,CAAC,cAAc,CAAC;;EAEhC,cAAc,EAAE,CAAC,WAAW,CAAC;EAC7B,UAAU,EAAE,CAAC,eAAe,CAAC;EAC7B,WAAW,EAAE,CAAC,mBAAmB,CAAC;CACnC,CAAC;;AAEF,MAAM,OAAO,GAAG;EACd,QAAQ,EAAE,MAAM,CAAC,iDAAiD,CAAC;EACnE,cAAc,EAAE;IACd,CAAC,kEAAkE,CAAC;EACtE,GAAG,EAAE,CAAC,CAAC,KAAK,EAAE,YAAY,EAAE,UAAU,CAAC;IACrC,CAAC,UAAU,EAAE,KAAK,CAAC,aAAa,EAAE,YAAY,CAAC,oCAAoC,EAAE,UAAU,CAAC,cAAc,CAAC;CAClH,CAAC;;AAEF,AAAO,AASL;;AAEF,AAAO,MAAM,SAAS,GAAG;EACvB,IAAI,EAAE,KAAK,CAAC,IAAI;EAChB,KAAK,EAAE,KAAK,CAAC,cAAc;EAC3B,MAAM,EAAE,KAAK,CAAC,WAAW;EACzB,KAAK,EAAE,KAAK;CACb,CAAC;;AAEF,AAAO,MAAM,UAAU,GAAG;EACxB,IAAI,EAAE,KAAK,CAAC,IAAI;EAChB,KAAK,EAAE,KAAK,CAAC,eAAe;EAC5B,MAAM,EAAE,KAAK,CAAC,WAAW;EACzB,OAAO,EAAE,OAAO,CAAC,QAAQ,EAAE;EAC3B,KAAK,EAAE,KAAK;CACb,CAAC;;AAEF,AAAO,MAAM,SAAS,GAAG;EACvB,IAAI,EAAE,KAAK,CAAC,IAAI;EAChB,KAAK,EAAE,KAAK,CAAC,SAAS;EACtB,MAAM,EAAE,KAAK,CAAC,UAAU;EACxB,KAAK,EAAE,IAAI;CACZ,CAAC;;AAEF,AAAO,MAAM,UAAU,GAAG,EAAE,CAAC;;AAE7B,AAAO,MAAM,WAAW,GAAG;EACzB,KAAK,EAAE,CAAC,CAAC;EACT,iBAAiB,EAAEA,kBAAgB;EACnC,IAAI,EAAE,aAAa;EACnB,OAAO,EAAE,EAAE;CACZ,CAAC;;AAEF,AAAO,MAAM,IAAI,GAAG,CAAC,IAAI,KAAK;EAC5B,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;EAC/B,IAAI,CAAC,IAAI,EAAE,CAAC;EACZ,OAAO,IAAI,CAAC;CACb,CAAC;;AAEF,AAAO,MAAM,QAAQ,GAAG,CAAC,KAAK,EAAE,SAAS,GAAG,MAAM,KAAK,SAAS,CAAC,KAAK,CAAC,CAAC;;AAExE,AAAO,MAAM,SAAS,GAAG,CAAC,KAAK,EAAE,SAAS,GAAG,MAAM,KAAK;EACtD,MAAM,KAAK,GAAG,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC;EAC9B,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,SAAS,CAAC,EAAE;IAC/B,MAAM,IAAI,UAAU,CAAC,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;GACnD;EACD,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;EACpB,OAAO,KAAK,CAAC;CACd,CAAC;;AAEF,AAAO,AACL,AAAY,AACZ;;AAEF,AAAO,MAAM,iBAAiB,GAAG,CAAC,SAAS,GAAG,MAAM,KAAK;EACvD,OAAO,SAAS,CAAC,GAAG,CAAC,CAAC,KAAK,KAAK,KAAK,CAAC,IAAI,CAAC,CAAC;CAC7C,CAAC;;AAEF,AAAO,AACL,AAGA,AACA,AACA,AACA;;AAEF,AAAO,MAAM,QAAQ,GAAG,CAAC,OAAO,KAAK;EACnC,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC;;EAEf,IAAI,OAAO,CAAC,MAAM,KAAK,YAAY,EAAE;IACnC,KAAK,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,KAAK;MAClC,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC;MACf,IAAI,EAAE,CAAC,SAAS,EAAE;QAChB,KAAK,GAAG,CAAC,EAAE,CAAC,SAAS,GAAG,kBAAkB,IAAI,CAAC,GAAG,CAAC,CAAC;OACrD;MACD,OAAO,GAAG,GAAG,KAAK,CAAC;KACpB,EAAE,CAAC,CAAC,CAAC;GACP;EACD,OAAO,KAAK,CAAC;CACd,CAAC;;AAEF,MAAM,YAAY,GAAG,CAAC,OAAO,KAAK;EAChC,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,KAAK;IACrC,OAAO,GAAG,GAAG,EAAE,CAAC,SAAS,CAAC;GAC3B,EAAE,CAAC,CAAC,CAAC;EACN,OAAO,IAAI,CAAC;CACb,CAAC;;AAEF,MAAM,WAAW,GAAG,CAAC,UAAU,EAAE,KAAK,KAAK;;EAEzC,MAAM,iBAAiB,GAAG,UAAU;OAC/B,GAAG,CAAC,CAAC,oBAAoB,EAAE,QAAQ,MAAM;QACxC,QAAQ;QACR,KAAK,EAAE,oBAAoB;OAC5B,CAAC,CAAC,CAAC;;;EAGR,iBAAiB,CAAC,IAAI,CAAC;IACrB,QAAQ,EAAE,IAAI;IACd,KAAK;GACN,CAAC,CAAC;;;EAGH,MAAM,QAAQ,GAAG,iBAAiB;OAC7B,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;OACjC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,EAAE,KAAK,KAAK;QAC1B,IAAI,EAAE,CAAC,QAAQ,KAAK,IAAI,EAAE;UACxB,GAAG,GAAG,KAAK,CAAC;SACb;QACD,OAAO,GAAG,CAAC;OACZ,EAAE,CAAC,CAAC,CAAC,CAAC;;EAEX,IAAI,QAAQ,KAAK,CAAC,CAAC,EAAE;IACnB,MAAM,IAAI,KAAK,CAAC,CAAC,mCAAmC,CAAC,CAAC,CAAC;GACxD;EACD,OAAO,QAAQ,CAAC;CACjB,CAAC;;AAEF,AAAO,MAAM,WAAW,GAAG,CAAC,UAAU,EAAE,IAAI,KAAK;EAC/C,IAAI,cAAc,GAAG,CAAC,CAAC,CAAC;EACxB,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;EACrC,MAAM,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;;EAExC,IAAI,IAAI,CAAC,iBAAiB,GAAG,CAAC,IAAI,IAAI,GAAG,aAAa,EAAE;;IAEtD,MAAM,QAAQ,GAAG,WAAW,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;IAChD,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACvB,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;;IAEjC,MAAM,KAAK,GAAG;MACZ,KAAK,EAAE,QAAQ,GAAG,CAAC;MACnB,YAAY,EAAE,UAAU,CAAC,MAAM;MAC/B,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC,MAAM,GAAG,QAAQ,GAAG,CAAC,IAAI,GAAG,GAAG,UAAU,CAAC,MAAM,CAAC;KACrF,CAAC;IACF,cAAc,GAAG,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;;GAErC,MAAM;;IAEL,cAAc,GAAG,CAAC,IAAI,GAAG,aAAa,IAAI,OAAO,CAAC,QAAQ,EAAE,GAAG,OAAO,CAAC,cAAc,EAAE,CAAC;GACzF;;EAED,OAAO,cAAc,CAAC;CACvB,CAAC,AAEF,AAAO,AAoBN;;ACzUc,MAAM,SAAS,CAAC;EAC7B,WAAW,CAAC,IAAI,GAAGC,MAAU,EAAE;IAC7B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;GAClB;;EAED,MAAM,CAAC,QAAQ,EAAE;IACf,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;IACrD,OAAO,IAAI,CAAC,KAAK,CAAC;GACnB;;EAED,YAAY,CAAC,KAAK,EAAE;IAClB,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;GACpB;;EAED,eAAe,GAAG;IAChB,OAAO,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;GAC9C;;EAED,SAAS,GAAG;IACV,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;GAC/C;;EAED,IAAI,GAAG;IACL,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;GAC/B;;EAED,WAAW,GAAG;IACZ,OAAOD,kBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC;GACxD;;EAED,YAAY,GAAG;IACb,OAAO,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC;GACpC;;EAED,iBAAiB,GAAG;IAClB,OAAO,iBAAiB,EAAE,CAAC;GAC5B;;EAED,WAAW,GAAG;IACZ,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,YAAY,GAAG,CAAC,CAAC;GAC9C;;EAED,GAAG,GAAG;IACJE,SAAa,CAAC,OAAO,GAAG,WAAW,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IAC5DA,SAAa,CAAC,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IACnDA,SAAa,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;GAC3C;EACD,cAAc,GAAG;IACfC,SAAa,CAAC,OAAO,GAAG,WAAW,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;GAC7D;CACF;;AC/DD,MAAM,QAAQ,GAAG,CAAC,MAAM,KAAK;EAC3B,IAAI,cAAc,GAAG,CAAC,CAAC,CAAC;EACxB,IAAI,MAAM,GAAG,CAAC,EAAE;IACd,OAAO,MAAM,EAAE;MACb,cAAc,IAAI,CAAC,4EAA4E,CAAC,CAAC;MACjG,MAAM,EAAE,CAAC;KACV;GACF;EACD,OAAO,cAAc,CAAC;CACvB,CAAC;;AAEF,AAAe,MAAM,UAAU,SAAS,YAAY,CAAC;EACnD,WAAW,CAAC,MAAM,EAAE,IAAI,EAAE;IACxB,KAAK,EAAE,CAAC;IACR,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACrB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;GAClB;;EAED,IAAI,QAAQ,GAAG;IACb,MAAM,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC;IAC7C,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,OAAO,GAAG,EAAE,CAAC;IACzC,MAAM,IAAI,GAAG,CAAC,KAAK,KAAK,CAAC,KAAK,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IAChD,OAAO,CAAC;;;;;;;;;qCASyB,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC;;wCAEvB,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC;;;;IAI9D,EAAE,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;SAEnB,CAAC,CAAC;GACR;CACF;;ACxCc,MAAM,cAAc,SAAS,YAAY,CAAC;EACvD,WAAW,CAAC,KAAK,EAAE;IACjB,KAAK,EAAE,CAAC;IACR,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;GACpB;;EAED,IAAI,QAAQ,GAAG;IACb,MAAM,CAAC,KAAK,EAAE,SAAS,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;;IAEtC,MAAM,iBAAiB,GAAG,CAAC,IAAI,KAAK;MAClC,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,EAAE,EAAE,KAAK,KAAK;QACxC,MAAM,CAAC,GAAG,KAAK,EAAE,CAAC;QAClB,MAAM,YAAY,GAAG,CAAC;;;;kBAIZ,EAAE,EAAE,CAAC,GAAG,CAAC;;;;;;;qDAO0B,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;2CAC1B,EAAE,CAAC,CAAC;MACzC,CAAC,CAAC;QACA,OAAO,MAAM,GAAG,YAAY,CAAC;OAC9B,EAAE,CAAC,CAAC,CAAC,CAAC;KACR,CAAC;;IAEF,OAAO,CAAC;;;sBAGU,EAAE,KAAK,CAAC;;;MAGxB,EAAE,iBAAiB,CAAC,SAAS,CAAC,CAAC;;;;;UAK3B,CAAC,CAAC,IAAI,EAAE,CAAC;GAChB;;EAED,IAAI,GAAG;IACL,MAAM,YAAY,GAAG,EAAE,CAAC,CAAC,kBAAkB,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;;IAE5D,MAAM,UAAU,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,oCAAoC,CAAC,CAAC,CAAC,CAAC;;IAE9F,UAAU,CAAC,OAAO,CAAC,CAAC,QAAQ,KAAK;MAC/B,GAAG,CAAC,CAAC,MAAM,CAAC,EAAE,MAAM;QAClB,IAAI,UAAU,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,OAAO,CAAC,EAAE;UACvC,YAAY,CAAC,eAAe,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;SAC1C,MAAM;UACL,YAAY,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;SACnD;OACF,EAAE,QAAQ,CAAC,CAAC;KACd,CAAC,CAAC;;IAEH,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,KAAK,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE,YAAY,CAAC,CAAC;GAC9D;;EAED,aAAa,CAAC,GAAG,EAAE;IACjB,GAAG,CAAC,cAAc,EAAE,CAAC;IACrB,MAAM,OAAO,GAAG,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IACrD,QAAQ,CAAC,CAAC,WAAW,CAAC,EAAE,OAAO,CAAC,CAAC;GAClC;CACF;;ACnEc,MAAM,eAAe,SAAS,YAAY,CAAC;EACxD,WAAW,CAAC,KAAK,EAAE;IACjB,KAAK,EAAE,CAAC;IACR,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;GACpB;;EAED,IAAI,QAAQ,GAAG;IACb,MAAM,CAAC,KAAK,EAAE,SAAS,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;;IAE3C,MAAM,iBAAiB,GAAG,CAAC,IAAI,KAAK;MAClC,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,EAAE,EAAE,KAAK,KAAK;QACxC,MAAM,CAAC,GAAG,KAAK,EAAE,CAAC;QAClB,MAAM,YAAY,GAAG,CAAC;;uDAEyB,EAAE,CAAC,CAAC,2BAA2B,EAAE,CAAC,CAAC;yCACjD,EAAE,CAAC,CAAC;0CACH,EAAE,EAAE,CAAC,KAAK,CAAC;aACxC,EAAE,EAAE,CAAC,MAAM,CAAC;IACrB,EAAE,EAAE,CAAC,MAAM,CAAC;;MAEV,CAAC,CAAC,IAAI,EAAE,CAAC;QACP,OAAO,MAAM,GAAG,YAAY,CAAC;OAC9B,EAAE,CAAC,CAAC,CAAC,CAAC;KACR,CAAC;;IAEF,OAAO,CAAC;;;iCAGqB,EAAE,KAAK,CAAC;;;oBAGrB,EAAE,GAAG,CAAC;;;;;;;;;MASpB,EAAE,iBAAiB,CAAC,SAAS,CAAC,CAAC;;;;UAI3B,CAAC,CAAC,IAAI,EAAE,CAAC;GAChB;;EAED,IAAI,GAAG;IACL,MAAM,OAAO,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;IACrE,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK;MAC1B,GAAG,CAAC,CAAC,MAAM,CAAC,EAAE,MAAM;QAClB,MAAM,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC;QACjD,QAAQ,CAAC,CAAC,YAAY,CAAC,EAAE,MAAM,CAAC,CAAC;OAClC,EAAE,MAAM,CAAC,CAAC;KACZ,CAAC,CAAC;GACJ;CACF;;ACrDD,MAAM,KAAK,GAAG;EACZ,MAAM,EAAE,CAAC,cAAc,CAAC;EACxB,IAAI,EAAE,CAAC,qBAAqB,CAAC;EAC7B,KAAK,EAAE,CAAC,oBAAoB,CAAC;CAC9B,CAAC;;AAEF,AAAe,MAAM,QAAQ,SAAS,YAAY,CAAC;EACjD,WAAW,CAAC,KAAK,EAAE;IACjB,KAAK,EAAE,CAAC;IACR,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;GACpB;;EAED,IAAI,QAAQ,GAAG;IACb,OAAO,CAAC,gCAAgC,CAAC,CAAC;GAC3C;;EAED,IAAI,GAAG;IACL,OAAO,KAAK,CAAC,IAAI,EAAE,CAAC;GACrB;;EAED,gBAAgB,GAAG;IACjB,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK;MAC/E,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,KAAK,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC;KACvD,CAAC,CAAC;GACJ;;EAED,IAAI,IAAI,GAAG;IACT,OAAO;MACL,KAAK,CAAC,KAAK,EAAE;QACX,OAAO,IAAI,cAAc,CAAC,KAAK,CAAC,CAAC;OAClC;MACD,MAAM,CAAC,KAAK,EAAE;QACZ,OAAO,IAAI,eAAe,CAAC,KAAK,CAAC,CAAC;OACnC;KACF,CAAC;GACH;;EAED,WAAW,CAAC,IAAI,EAAE;IAChB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,EAAE,CAAC,CAAC;IAC3D,IAAI,CAAC,gBAAgB,EAAE,CAAC;IACxB,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACvB,IAAI,CAAC,YAAY,EAAE,CAAC;GACrB;;EAED,YAAY,GAAG;IACb,MAAM,MAAM,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC/E,MAAM,aAAa,GAAG,EAAE,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;IAClD,IAAI,aAAa,KAAK,IAAI,EAAE;MAC1B,aAAa,CAAC,MAAM,EAAE,CAAC;KACxB;IACD,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;GAC5C;;EAED,YAAY,CAAC,GAAG,EAAE;IAChB,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,EAAE;MACrB,GAAG,CAAC,cAAc,EAAE,CAAC;MACrB,MAAM,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;MACtB,IAAI,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;;QAEtC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK;UAC7E,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;UACpC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;UAClC,MAAM,CAAC,sBAAsB,CAAC,KAAK,EAAE,CAAC;SACvC,CAAC,CAAC;QACH,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACjC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC7B,EAAE,CAAC,sBAAsB,CAAC,IAAI,EAAE,CAAC;OAClC,MAAM;;QAEL,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAChC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAC9B,EAAE,CAAC,sBAAsB,CAAC,KAAK,EAAE,CAAC;OACnC;KACF;GACF;;CAEF;;AC5ED,MAAMH,mBAAgB,GAAG,CAAC,CAAC;;AAE3B,MAAM,UAAU,CAAC;EACf,WAAW,CAAC,IAAI,GAAG,MAAM,EAAE;IACzB,IAAI,CAAC,KAAK,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC;IACjC,IAAI,CAAC,IAAI,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACrC,GAAG,CAAC,CAAC,WAAW,CAAC,EAAE,GAAG,IAAI,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,CAAC;IACxD,GAAG,CAAC,CAAC,YAAY,CAAC,EAAE,GAAG,IAAI,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,CAAC;GAC3D;;EAED,IAAI,CAAC,KAAK,GAAG,WAAW,EAAE;IACxB,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;IAC/B,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACzB,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;IACvB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC,CAAC;GAC7C;;EAED,SAAS,CAAC,MAAM,EAAE;IAChB,MAAM,SAAS,GAAG;MAChB,SAAS,EAAE,MAAM,KAAK,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,MAAM;MAC3D,SAAS,EAAE,EAAE;KACd,CAAC;IACF,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC;IACzC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACxB,IAAI,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,iBAAiB,CAAC;IAC3D,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE;MACxB,iBAAiB,EAAE,CAAC;KACrB;;IAED,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;MAChB,OAAO;MACP,iBAAiB;KAClB,CAAC,CAAC;GACJ;;EAED,OAAO,GAAG;IACR;MACE,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE;MACxB,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,GAAGA,mBAAgB;MAC3C;;MAEA,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;MACjB,GAAG,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;KACvB,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,IAAIA,mBAAgB,EAAE;;MAEvD,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC;MAC5B,GAAG,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;KACvB,MAAM;MACL,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;MACvB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC,CAAC;KAC7C;GACF;;EAED,WAAW,CAAC,IAAI,EAAE;IAChB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;GAC7B;;EAED,IAAI,GAAG;IACL,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;IAClB,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;;IAEzB,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,EAAE;;MAE9B,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;KACxB,MAAM;MACL,IAAI,CAAC,KAAK,GAAG,UAAU,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC;KAClD;GACF;;EAED,SAAS,GAAG;IACV,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;GAC1B;;EAED,kBAAkB,CAAC,GAAG,EAAE;IACtB,MAAM,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC;IAC3B,IAAI,UAAU,GAAG,CAAC,CAAC,CAAC;IACpB,KAAK,IAAI,MAAM,IAAI,OAAO,EAAE;MAC1B,UAAU,IAAI,MAAM,CAAC,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC;KACtC;IACD,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;IAC3B,IAAI,CAAC,OAAO,EAAE,CAAC;GAChB;;EAED,mBAAmB,CAAC,GAAG,EAAE;IACvB,MAAM,MAAM,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IACvB,IAAI,CAAC,OAAO,EAAE,CAAC;GAChB;CACF,AAED,AAA0B;;ACrFX,MAAM,GAAG,CAAC;;;;;EAKvB,OAAO,IAAI,CAAC,IAAI,EAAE;IAChB,aAAa,CAAC,IAAI,EAAE,CAAC;IACrB,GAAG,CAAC,IAAI,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,CAAC;IAChC,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,SAAS,CAAC,CAAC;IAC5B,GAAG,CAAC,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,SAAS,CAAC,CAAC;;;;;;;GAO9B;;EAED,OAAO,SAAS,CAAC,GAAG,EAAE,KAAK,GAAG,WAAW,EAAE;IACzC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACrB,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;GACjB;;EAED,QAAQ,GAAG;IACT,MAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;IAC3D,YAAY,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,EAAE,MAAM;MAC3C,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;KAChB,CAAC,CAAC;GACJ;CACF;;AAED,GAAG,CAAC,IAAI,CAACC,MAAU,CAAC,CAAC;;ACxCrB,MAAM,GAAG,GAAG,IAAI,GAAG,EAAE,CAAC,;;"}