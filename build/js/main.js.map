{"version":3,"file":"main.js","sources":["js/elementCreator.js","js/welcomeScreen.js","js/gameGenreScreen.js","js/gameArtistScreen.js","js/resultSuccessScreen.js","js/failTimeScreen.js","js/failTriesScreen.js","js/main.js"],"sourcesContent":["export function htmlToElement(html) {\r\n  const div = document.createElement(`div`);\r\n  html = html.trim(); // remove whitespaces\r\n  div.innerHTML = html;\r\n  return div.firstChild;\r\n}\r\n","import { htmlToElement } from \"./elementCreator\";\r\n\r\n//  Приветствие\r\nconst welcomeScreen = htmlToElement(`\r\n  <section class=\"welcome\">\r\n    <div class=\"welcome__logo\"><img src=\"img/melody-logo.png\" alt=\"Угадай мелодию\" width=\"186\" height=\"83\"></div>\r\n    <button class=\"welcome__button\"><span class=\"visually-hidden\">Начать игру</span></button>\r\n    <h2 class=\"welcome__rules-title\">Правила игры</h2>\r\n    <p class=\"welcome__text\">Правила просты:</p>\r\n    <ul class=\"welcome__rules-list\">\r\n      <li>За 5 минут нужно ответить на все вопросы.</li>\r\n      <li>Можно допустить 3 ошибки.</li>\r\n    </ul>\r\n    <p class=\"welcome__text\">Удачи!</p>\r\n  </section>`);\r\n\r\nexport default welcomeScreen;\r\n","import { htmlToElement } from \"./elementCreator\";\r\n\r\n//  Игра на выбор жанра\r\nconst gameGenreScreen = htmlToElement(`\r\n<section class=\"game game--genre\">\r\n    <header class=\"game__header\">\r\n      <a class=\"game__back\" href=\"#\">\r\n        <span class=\"visually-hidden\">Сыграть ещё раз</span>\r\n        <img class=\"game__logo\" src=\"/img/melody-logo-ginger.png\" alt=\"Угадай мелодию\">\r\n      </a>\r\n\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"timer\" viewBox=\"0 40 780 780\">\r\n        <circle class=\"timer__line\" cx=\"390\" cy=\"390\" r=\"370\" style=\"filter: url(.#blur); transform: rotate(-90deg) scaleY(-1); transform-origin: center\">\r\n      </svg>\r\n\r\n      <div class=\"timer__value\" xmlns=\"http://www.w3.org/1999/xhtml\">\r\n        <span class=\"timer__mins\">05</span>\r\n        <span class=\"timer__dots\">:</span>\r\n        <span class=\"timer__secs\">00</span>\r\n      </div>\r\n\r\n      <div class=\"game__mistakes\">\r\n        <div class=\"wrong\"></div>\r\n        <div class=\"wrong\"></div>\r\n        <div class=\"wrong\"></div>\r\n      </div>\r\n    </header>\r\n\r\n    <section class=\"game__screen\">\r\n      <h2 class=\"game__title\">Выберите инди-рок треки</h2>\r\n      <form class=\"game__tracks\">\r\n        <div class=\"track\">\r\n          <button class=\"track__button track__button--play\" type=\"button\"></button>\r\n          <div class=\"track__status\">\r\n            <audio></audio>\r\n          </div>\r\n          <div class=\"game__answer\">\r\n            <input class=\"game__input visually-hidden\" type=\"checkbox\" name=\"answer\" value=\"answer-1\" id=\"answer-1\">\r\n            <label class=\"game__check\" for=\"answer-1\">Отметить</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"track\">\r\n          <button class=\"track__button track__button--play\" type=\"button\"></button>\r\n          <div class=\"track__status\">\r\n            <audio></audio>\r\n          </div>\r\n          <div class=\"game__answer\">\r\n            <input class=\"game__input visually-hidden\" type=\"checkbox\" name=\"answer\" value=\"answer-1\" id=\"answer-2\">\r\n            <label class=\"game__check\" for=\"answer-2\">Отметить</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"track\">\r\n          <button class=\"track__button track__button--pause\" type=\"button\"></button>\r\n          <div class=\"track__status\">\r\n            <audio></audio>\r\n          </div>\r\n          <div class=\"game__answer\">\r\n            <input class=\"game__input visually-hidden\" type=\"checkbox\" name=\"answer\" value=\"answer-1\" id=\"answer-3\">\r\n            <label class=\"game__check\" for=\"answer-3\">Отметить</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"track\">\r\n          <button class=\"track__button track__button--play\" type=\"button\"></button>\r\n          <div class=\"track__status\">\r\n            <audio></audio>\r\n          </div>\r\n          <div class=\"game__answer\">\r\n            <input class=\"game__input visually-hidden\" type=\"checkbox\" name=\"answer\" value=\"answer-1\"  id=\"answer-4\">\r\n            <label class=\"game__check \" for=\"answer-4\">Отметить</label>\r\n          </div>\r\n        </div>\r\n\r\n        <button class=\"game__submit button\" type=\"submit\"  >Ответить</button>\r\n      </form>\r\n    </section>\r\n  </section>`);\r\n\r\nexport default gameGenreScreen;\r\n","import { htmlToElement } from \"./elementCreator\";\r\n\r\n//  Игра на выбор исполнителя\r\nconst gameArtistScreen = htmlToElement(`\r\n<section class=\"game game--artist\">\r\n    <header class=\"game__header\">\r\n      <a class=\"game__back\" href=\"#\">\r\n        <span class=\"visually-hidden\">Сыграть ещё раз</span>\r\n        <img class=\"game__logo\" src=\"/img/melody-logo-ginger.png\" alt=\"Угадай мелодию\">\r\n      </a>\r\n\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"timer\" viewBox=\"0 40 780 780\">\r\n        <circle class=\"timer__line\" cx=\"390\" cy=\"390\" r=\"370\" style=\"filter: url(.#blur); transform: rotate(-90deg) scaleY(-1); transform-origin: center\">\r\n      </svg>\r\n\r\n      <div class=\"timer__value\" xmlns=\"http://www.w3.org/1999/xhtml\">\r\n        <span class=\"timer__mins\">05</span>\r\n        <span class=\"timer__dots\">:</span>\r\n        <span class=\"timer__secs\">00</span>\r\n      </div>\r\n\r\n      <div class=\"game__mistakes\">\r\n        <div class=\"wrong\"></div>\r\n        <div class=\"wrong\"></div>\r\n        <div class=\"wrong\"></div>\r\n      </div>\r\n    </header>\r\n\r\n    <section class=\"game__screen\">\r\n      <h2 class=\"game__title\">Кто исполняет эту песню?</h2>\r\n      <div class=\"game__track\">\r\n        <button class=\"track__button track__button--play\" type=\"button\"></button>\r\n        <audio></audio>\r\n      </div>\r\n\r\n      <form class=\"game__artist\">\r\n        <div class=\"artist\">\r\n          <input class=\"artist__input visually-hidden\" type=\"radio\" name=\"answer\" value=\"artist-1\" id=\"answer-1\">\r\n          <label class=\"artist__name\" for=\"answer-1\">\r\n            <img class=\"artist__picture\" src=\"http://placehold.it/134x134\" alt=\"Пелагея\">\r\n            Пелагея\r\n          </label>\r\n        </div>\r\n\r\n        <div class=\"artist\">\r\n          <input class=\"artist__input visually-hidden\" type=\"radio\" name=\"answer\" value=\"artist-2\" id=\"answer-2\">\r\n          <label class=\"artist__name\" for=\"answer-2\">\r\n            <img class=\"artist__picture\" src=\"http://placehold.it/134x134\" alt=\"Пелагея\">\r\n            Краснознаменная дивизия имени моей бабушки\r\n          </label>\r\n        </div>\r\n\r\n        <div class=\"artist\">\r\n          <input class=\"artist__input visually-hidden\" type=\"radio\" name=\"answer\" value=\"artist-3\" id=\"answer-3\">\r\n          <label class=\"artist__name\" for=\"answer-3\">\r\n            <img class=\"artist__picture\" src=\"http://placehold.it/134x134\" alt=\"Пелагея\">\r\n            Lorde\r\n          </label>\r\n        </div>\r\n      </form>\r\n    </section>\r\n  </section>`);\r\n\r\nexport default gameArtistScreen;\r\n","import { htmlToElement } from \"./elementCreator\";\r\n\r\n//  Результат игры: выигрыш\r\nconst resultSuccessScreen = htmlToElement(`\r\n<section class=\"result\">\r\n<div class=\"result__logo\"><img src=\"img/melody-logo.png\" alt=\"Угадай мелодию\" width=\"186\" height=\"83\"></div>\r\n<h2 class=\"result__title\">Вы настоящий меломан!</h2>\r\n<p class=\"result__total\">За 3 минуты и 25 секунд вы набрали 12 баллов (8 быстрых), совершив 3 ошибки</p>\r\n<p class=\"result__text\">Вы заняли 2 место из 10. Это лучше чем у 80% игроков</p>\r\n<button class=\"result__replay\" type=\"button\">Сыграть ещё раз</button>\r\n</section>`);\r\n\r\nexport default resultSuccessScreen;\r\n","import {htmlToElement} from \"./elementCreator\";\r\n\r\n//  Результат игры: проигрыш, время вышло\r\nconst failTimeScreen = htmlToElement(`\r\n<section class=\"result\">\r\n  <div class=\"result__logo\"><img src=\"img/melody-logo.png\" alt=\"Угадай мелодию\" width=\"186\" height=\"83\"></div>\r\n  <h2 class=\"result__title\">Увы и ах!</h2>\r\n  <p class=\"result__total result__total--fail\">Время вышло! Вы не успели отгадать все мелодии</p>\r\n  <button class=\"result__replay\" type=\"button\">Попробовать ещё раз</button>\r\n</section>`);\r\n\r\nexport default failTimeScreen;\r\n","import { htmlToElement } from \"./elementCreator\";\r\n\r\n//  Результат игры: проигрыш, время вышло\r\nconst failTriesScreen = htmlToElement(`\r\n<section class=\"result\">\r\n  <div class=\"result__logo\"><img src=\"img/melody-logo.png\" alt=\"Угадай мелодию\" width=\"186\" height=\"83\"></div>\r\n  <h2 class=\"result__title\">Увы и ах!</h2>\r\n  <p class=\"result__total result__total--fail\">Время вышло! Вы не успели отгадать все мелодии</p>\r\n  <button class=\"result__replay\" type=\"button\">Попробовать ещё раз</button>\r\n</section>`);\r\n\r\nexport default failTriesScreen;\r\n","import welcomeScreen from \"./welcomeScreen\";\r\nimport gameGenreScreen from \"./gameGenreScreen\";\r\nimport gameArtistScreen from \"./gameArtistScreen\";\r\nimport resultSuccessScreen from \"./resultSuccessScreen\";\r\nimport failTimeScreen from \"./failTimeScreen\";\r\nimport failTriesScreen from \"./failTriesScreen\";\r\n\r\nconst main = document.querySelector(`.main`);\r\n\r\nconst ready = () => {\r\n  main.appendChild(welcomeScreen);\r\n};\r\n\r\nconst returner = () => {\r\n  const returnButton = document.querySelector(`.game__back`);\r\n  returnButton.addEventListener(`click`, function() {\r\n    slider(0);\r\n  });\r\n};\r\ndocument.addEventListener(`DOMContentLoaded`, ready);\r\n\r\nconst slider = slideNumbers => {\r\n  switch (slideNumbers) {\r\n    case 0:\r\n      while (main.firstChild) {\r\n        main.removeChild(main.firstChild);\r\n      }\r\n      main.appendChild(welcomeScreen);\r\n      break;\r\n    case 1:\r\n      {\r\n        if (gameArtistScreen.parentNode === main) {\r\n          main.removeChild(gameArtistScreen);\r\n        } else {\r\n          main.removeChild(welcomeScreen);\r\n        }\r\n      }\r\n      main.appendChild(gameGenreScreen);\r\n      let flag = 0;\r\n      const gameInputs = document.querySelectorAll(\".game__input\");\r\n      for (let i = 0; i < gameInputs.length; i++) {\r\n        gameInputs[i].addEventListener(\"click\", function() {\r\n          flag++;\r\n        });\r\n      }\r\n      document.querySelector(\".game__submit\").onclick = function(e) {\r\n        e.preventDefault();\r\n        if (flag > 0) slider(2);\r\n        else alert(\"выберите хотя бы один вариант\");\r\n      };\r\n      returner();\r\n      break;\r\n    case 2:\r\n      if (gameGenreScreen.parentNode === main) {\r\n        main.removeChild(gameGenreScreen);\r\n      } else {\r\n        main.removeChild(resultSuccessScreen);\r\n      }\r\n      main.appendChild(gameArtistScreen);\r\n      const artistsInputs = document.querySelectorAll(\".artist__input \");\r\n      for (let i = 0; i < artistsInputs.length; i++) {\r\n        artistsInputs[i].addEventListener(\"click\", function() {\r\n          const rand = Math.floor(Math.random() * 2) + 3;\r\n          slider(rand);\r\n        });\r\n      }\r\n      returner();\r\n      break;\r\n    case 3:\r\n      if (failTriesScreen.parentNode === main) {\r\n        main.removeChild(failTriesScreen);\r\n      } else {\r\n        main.removeChild(gameArtistScreen);\r\n      }\r\n      main.appendChild(resultSuccessScreen);\r\n\r\n      document.querySelector(\".result__replay\").onclick = function(e) {\r\n        e.preventDefault();\r\n        slider(0);\r\n      };\r\n      break;\r\n    case 4:\r\n      if (failTimeScreen.parentNode === main) {\r\n        main.removeChild(failTimeScreen);\r\n      } else {\r\n        main.removeChild(resultSuccessScreen);\r\n      }\r\n      main.appendChild(failTriesScreen);\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;AAAO,SAAS,aAAa,CAAC,IAAI,EAAE;EAClC,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EAC1C,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;EACnB,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC;EACrB,OAAO,GAAG,CAAC,UAAU,CAAC;CACvB;;ACHD;AACA,MAAM,aAAa,GAAG,aAAa,CAAC,CAAC;;;;;;;;;;;YAWzB,CAAC,CAAC,CAAC,AAEf,AAA6B;;ACd7B;AACA,MAAM,eAAe,GAAG,aAAa,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YA2E3B,CAAC,CAAC,CAAC,AAEf,AAA+B;;AC9E/B;AACA,MAAM,gBAAgB,GAAG,aAAa,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YA0D5B,CAAC,CAAC,CAAC,AAEf,AAAgC;;AC7DhC;AACA,MAAM,mBAAmB,GAAG,aAAa,CAAC,CAAC;;;;;;;UAOjC,CAAC,CAAC,CAAC,AAEb,AAAmC;;ACVnC;AACA,MAAM,cAAc,GAAG,aAAa,CAAC,CAAC;;;;;;UAM5B,CAAC,CAAC,CAAC,AAEb,AAA8B;;ACT9B;AACA,MAAM,eAAe,GAAG,aAAa,CAAC,CAAC;;;;;;UAM7B,CAAC,CAAC,CAAC,AAEb,AAA+B;;ACJ/B,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;;AAE7C,MAAM,KAAK,GAAG,MAAM;EAClB,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;CACjC,CAAC;;AAEF,AACE,AACA,AAEG,AAEL,QAAQ,CAAC,gBAAgB,CAAC,CAAC,gBAAgB,CAAC,EAAE,KAAK,CAAC,CAAC,AAErD,AACE,AAqEC,AACD,;;"}