{"version":3,"file":"welcome-view.js","sources":["js/util.js","js/view.js","js/welcome/welcome-view.js"],"sourcesContent":["// create an element\nexport const createElement = template => {\n  const outer = document.createElement(`div`)\n  outer.innerHTML = template\n  return outer.firstElementChild\n}\n\n// select an element\nexport const $$ = (selector, scope = window.document) => {\n  return scope.querySelector(selector)\n}\n\n// get root element\nconst appElement = $$(`.app`)\n\n// replace screen\nexport const changeView = view => {\n  appElement.replaceChild(view.element, $$(`section.main`))\n}\n\n// add event listener on some event\nexport const $on = (eventName, callback, el = appElement) => {\n  el.addEventListener(eventName, evt => {\n    callback(evt)\n  })\n}\n// create a custom event to be triggered on\nexport const $trigger = (eventName, data = null) => {\n  let customEvent = new CustomEvent(eventName, { detail: data })\n  appElement.dispatchEvent(customEvent)\n}\n","import { createElement } from \"./util\";\n\n// base class\nexport default class AbstractView {\n  get template() {\n    throw new Error(`Provide template for view`);\n  }\n\n  render() {\n    return createElement(this.template.trim());\n  }\n  bind() {} // notifies\n  get element() {\n    if (!this._element) {\n      this._element = this.render();\n      this.bind(); //bind to this\n    }\n    return this._element;\n  }\n}\n","import AbstractView from \"../view\"\nimport { $$, $on, $trigger } from \"../util\"\n\nexport default class WelcomeView extends AbstractView {\n  constructor(data) {\n    super()\n    this.data = data\n  }\n\n  get template() {\n    const { name, button, title, rules } = this.data\n    return `\n<section class=\"main main--welcome\">\n  <section class=\"logo\" title=\"${name}\"><h1>${name}</h1></section>\n  <button class=\"main-play\">${button}</button>\n  <h2 class=\"title main-title\">${title}</h2>\n  <p class=\"text main-text\">${rules.reduce((str, it, index, arr) => {\n    const linebreak = index < arr.length - 1 ? `<br>` : ``\n    it = it + linebreak\n    return str + it\n  }, ``)}</p>\n</section>`.trim()\n  }\n\n  // on button click, start game\n  bind() {\n    $on(`click`, () => $trigger(`start`), $$(`.main-play`, this.element))\n  }\n\n  onStart() {}\n}\n"],"names":[],"mappings":";;;AAAA;AACA,AAAO,MAAM,aAAa,GAAG,QAAQ,IAAI;EACvC,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,CAAA;EAC3C,KAAK,CAAC,SAAS,GAAG,QAAQ,CAAA;EAC1B,OAAO,KAAK,CAAC,iBAAiB;CAC/B,CAAA;;;AAGD,AAAO,MAAM,EAAE,GAAG,CAAC,QAAQ,EAAE,KAAK,GAAG,MAAM,CAAC,QAAQ,KAAK;EACvD,OAAO,KAAK,CAAC,aAAa,CAAC,QAAQ,CAAC;CACrC,CAAA;;;AAGD,MAAM,UAAU,GAAG,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAA;;;AAG7B,AAAO,AACL,AAAyD,AAC1D;;;AAGD,AAAO,MAAM,GAAG,GAAG,CAAC,SAAS,EAAE,QAAQ,EAAE,EAAE,GAAG,UAAU,KAAK;EAC3D,EAAE,CAAC,gBAAgB,CAAC,SAAS,EAAE,GAAG,IAAI;IACpC,QAAQ,CAAC,GAAG,CAAC,CAAA;GACd,CAAC,CAAA;CACH,CAAA;;AAED,AAAO,MAAM,QAAQ,GAAG,CAAC,SAAS,EAAE,IAAI,GAAG,IAAI,KAAK;EAClD,IAAI,WAAW,GAAG,IAAI,WAAW,CAAC,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAA;EAC9D,UAAU,CAAC,aAAa,CAAC,WAAW,CAAC,CAAA;CACtC,CAAA;;AC3Bc,MAAM,YAAY,CAAC;EAChC,IAAI,QAAQ,GAAG;IACb,MAAM,IAAI,KAAK,CAAC,CAAC,yBAAyB,CAAC,CAAC,CAAC;GAC9C;;EAED,MAAM,GAAG;IACP,OAAO,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC;GAC5C;EACD,IAAI,GAAG,EAAE;EACT,IAAI,OAAO,GAAG;IACZ,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;MAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;MAC9B,IAAI,CAAC,IAAI,EAAE,CAAC;KACb;IACD,OAAO,IAAI,CAAC,QAAQ,CAAC;GACtB;CACF;;AChBc,MAAM,WAAW,SAAS,YAAY,CAAC;EACpD,WAAW,CAAC,IAAI,EAAE;IAChB,KAAK,EAAE,CAAA;IACP,IAAI,CAAC,IAAI,GAAG,IAAI,CAAA;GACjB;;EAED,IAAI,QAAQ,GAAG;IACb,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC,IAAI,CAAA;IAChD,OAAO,CAAC;;+BAEmB,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC;4BACvB,EAAE,MAAM,CAAC;+BACN,EAAE,KAAK,CAAC;4BACX,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,EAAE,KAAK,EAAE,GAAG,KAAK;IAChE,MAAM,SAAS,GAAG,KAAK,GAAG,GAAG,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAA;IACtD,EAAE,GAAG,EAAE,GAAG,SAAS,CAAA;IACnB,OAAO,GAAG,GAAG,EAAE;GAChB,EAAE,CAAC,CAAC,CAAC,CAAC;UACC,CAAC,CAAC,IAAI,EAAE;GACf;;;EAGD,IAAI,GAAG;IACL,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE,MAAM,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,UAAU,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAA;GACtE;;EAED,OAAO,GAAG,EAAE;CACb,;;,;;"}